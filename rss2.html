<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>JoelYing</title>
    <link>https://joelying.github.io/</link>
    <atom:link href="/rss2.html" rel="self" type="application/rss+xml"/>
    
    <description>半个兴趣使然的程序员</description>
    <pubDate>Fri, 16 Aug 2019 04:40:06 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>NexT主题优化记录</title>
      <link>https://joelying.github.io//blog/NexT%E4%B8%BB%E9%A2%98%E4%BC%98%E5%8C%96%E8%AE%B0%E5%BD%95.html</link>
      <guid>https://joelying.github.io//blog/NexT%E4%B8%BB%E9%A2%98%E4%BC%98%E5%8C%96%E8%AE%B0%E5%BD%95.html</guid>
      <pubDate>Thu, 15 Aug 2019 04:26:13 GMT</pubDate>
      <description>
      
        &lt;h3 id=&quot;NexT主题优化历程&quot;&gt;&lt;a href=&quot;#NexT主题优化历程&quot; class=&quot;headerlink&quot; title=&quot;NexT主题优化历程&quot;&gt;&lt;/a&gt;NexT主题优化历程&lt;/h3&gt;&lt;hr&gt;&lt;h4 id=&quot;一九年八月十五日&quot;&gt;&lt;a href=&quot;#一九年八月十五日&quot; class=&quot;headerlink&quot; title=&quot;一九年八月十五日&quot;&gt;&lt;/a&gt;一九年八月十五日&lt;/h4&gt;&lt;p&gt;正式开始使用NexT作为博客主题，根据&lt;a href=&quot;http://theme-next.iissnan.com/getting-started.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;文档&lt;/a&gt;进行基本配置优化&lt;/p&gt;&lt;h5 id=&quot;修改主题配置文件&quot;&gt;&lt;a href=&quot;#修改主题配置文件&quot; class=&quot;headerlink&quot; title=&quot;修改主题配置文件&quot;&gt;&lt;/a&gt;修改主题配置文件&lt;/h5&gt;&lt;figure class=&quot;highlight http&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;Scheme&lt;/span&gt;: Muse&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;language&lt;/span&gt;: zh-Hans&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;menu:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  home: / || home&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;about&lt;/span&gt;: /about/ || user&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;tags&lt;/span&gt;: /tags/ || tags&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;categories&lt;/span&gt;: /categories/ || th&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;archives&lt;/span&gt;: /archives/ || archive&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;schedule&lt;/span&gt;: /schedule/ || calendar&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;avatar:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  url: http://pw407zrf4.bkt.clouddn.com/%E6%96%91.jpg&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;attribute&quot;&gt;sidebar:&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  position: right&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;  &lt;span class=&quot;attribute&quot;&gt;display&lt;/span&gt;: post&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h3 id="NexT主题优化历程"><a href="#NexT主题优化历程" class="headerlink" title="NexT主题优化历程"></a>NexT主题优化历程</h3><hr><h4 id="一九年八月十五日"><a href="#一九年八月十五日" class="headerlink" title="一九年八月十五日"></a>一九年八月十五日</h4><p>正式开始使用NexT作为博客主题，根据<a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="noopener">文档</a>进行基本配置优化</p><h5 id="修改主题配置文件"><a href="#修改主题配置文件" class="headerlink" title="修改主题配置文件"></a>修改主题配置文件</h5><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">Scheme</span>: Muse</span><br><span class="line"></span><br><span class="line"><span class="attribute">language</span>: zh-Hans</span><br><span class="line"></span><br><span class="line"><span class="attribute">menu:</span></span><br><span class="line">  home: / || home</span><br><span class="line">  <span class="attribute">about</span>: /about/ || user</span><br><span class="line">  <span class="attribute">tags</span>: /tags/ || tags</span><br><span class="line">  <span class="attribute">categories</span>: /categories/ || th</span><br><span class="line">  <span class="attribute">archives</span>: /archives/ || archive</span><br><span class="line">  <span class="attribute">schedule</span>: /schedule/ || calendar</span><br><span class="line"></span><br><span class="line"><span class="attribute">avatar:</span></span><br><span class="line">  url: http://pw407zrf4.bkt.clouddn.com/%E6%96%91.jpg</span><br><span class="line"></span><br><span class="line"><span class="attribute">sidebar:</span></span><br><span class="line">  position: right</span><br><span class="line">  <span class="attribute">display</span>: post</span><br></pre></td></tr></table></figure><a id="more"></a><h5 id="修改-themes-next-source-css-variables-base-styl"><a href="#修改-themes-next-source-css-variables-base-styl" class="headerlink" title="修改 themes\next\source\css_variables\base.styl"></a>修改 themes\next\source\css_variables\base.styl</h5><figure class="highlight lasso"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">- $code<span class="params">-foreground</span>                = $black<span class="params">-light</span>;</span><br><span class="line">+ $code<span class="params">-foreground</span>                = $my<span class="params">-code</span><span class="params">-foreground</span>;</span><br><span class="line">- $code<span class="params">-background</span>                = $gainsboro;</span><br><span class="line">+ $code<span class="params">-background</span>                = $my<span class="params">-code</span><span class="params">-background</span>;</span><br><span class="line"></span><br><span class="line">- $content<span class="params">-desktop</span><span class="params">-large</span>          = <span class="number">800</span>px</span><br><span class="line">+ $content<span class="params">-desktop</span><span class="params">-large</span>          = <span class="number">1000</span>px</span><br><span class="line">- $content<span class="params">-desktop</span><span class="params">-largest</span>          = <span class="number">900</span>px</span><br><span class="line">+ $content<span class="params">-desktop</span><span class="params">-largest</span>          = <span class="number">1000</span>px</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自定义的颜色</span></span><br><span class="line">+ $my<span class="params">-code</span><span class="params">-foreground</span> = #dd0055  <span class="comment">// 用``围出的代码块字体颜色</span></span><br><span class="line">+ $my<span class="params">-code</span><span class="params">-background</span> = #eee  <span class="comment">// 用``围出的代码块背景颜色</span></span><br></pre></td></tr></table></figure><h5 id="新建样式文件-themes-next-source-css-custom-custom-styl"><a href="#新建样式文件-themes-next-source-css-custom-custom-styl" class="headerlink" title="新建样式文件 themes\next\source\css_custom\custom.styl"></a>新建样式文件 themes\next\source\css_custom\custom.styl</h5><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 文章``代码块的自定义样式</span></span><br><span class="line"><span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0px</span> <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#999</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//文章内链接文本样式</span></span><br><span class="line"><span class="selector-class">.post-body</span> <span class="selector-tag">p</span> <span class="selector-tag">a</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#0593d3</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: none;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#0593d3</span>;</span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fc6423</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: none;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#fc6423</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// [Read More]按钮样式</span></span><br><span class="line"><span class="selector-class">.post-button</span> <span class="selector-class">.btn</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#555</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: rgb(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: inset <span class="number">0px</span> <span class="number">0px</span> <span class="number">10px</span> <span class="number">0px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.35</span>);</span><br><span class="line">    <span class="attribute">border</span>: none <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">transition-property</span>: unset;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0px</span> <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.post-button</span> <span class="selector-class">.btn</span>:hover &#123;</span><br><span class="line">    <span class="attribute">color</span>: rgb(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>) <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: inset <span class="number">0px</span> <span class="number">0px</span> <span class="number">10px</span> <span class="number">0px</span> rgba(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.35</span>);</span><br><span class="line">    <span class="attribute">background-image</span>: linear-gradient(<span class="number">90deg</span>, <span class="number">#a166ab</span> <span class="number">0%</span>, <span class="number">#ef4e7b</span> <span class="number">25%</span>, <span class="number">#f37055</span> <span class="number">50%</span>, <span class="number">#ef4e7b</span> <span class="number">75%</span>, <span class="number">#a166ab</span> <span class="number">100%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="网易云音乐外链"><a href="#网易云音乐外链" class="headerlink" title="网易云音乐外链"></a>网易云音乐外链</h5><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sidebar-inner"</span>&gt;</span></span><br><span class="line">......</span><br><span class="line"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">frameborder</span>=<span class="string">"no"</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">marginwidth</span>=<span class="string">"0"</span> <span class="attr">marginheight</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">332</span> <span class="attr">height</span>=<span class="string">86</span> <span class="attr">src</span>=<span class="string">"//music.163.com/outchain/player?type=2&amp;id=22842399&amp;auto=1&amp;height=66"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="修改旋转头像"><a href="#修改旋转头像" class="headerlink" title="修改旋转头像"></a>修改旋转头像</h5><p>themes\next\source\css_common\components\sidebar\sidebar-author.styl</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">.site-author-<span class="built_in">image</span> &#123;</span><br><span class="line">  <span class="built_in">border</span>: $site-author-<span class="built_in">image</span>-<span class="built_in">border</span>-<span class="built_in">width</span> solid $site-author-<span class="built_in">image</span>-<span class="built_in">border</span>-<span class="built_in">color</span>;</span><br><span class="line">  <span class="built_in">display</span>: <span class="built_in">block</span>;</span><br><span class="line">  <span class="built_in">height</span>: $site-author-<span class="built_in">image</span>-<span class="built_in">height</span>;</span><br><span class="line">  margin: <span class="number">0</span> auto;</span><br><span class="line">  <span class="built_in">max</span>-<span class="built_in">width</span>: $site-author-<span class="built_in">image</span>-<span class="built_in">width</span>;</span><br><span class="line">  padding: $site-author-<span class="built_in">image</span>-padding;</span><br><span class="line">+   //设置圆形</span><br><span class="line">+  <span class="built_in">border</span>-<span class="built_in">radius</span>: <span class="number">50</span><span class="symbol">%</span>;</span><br><span class="line">+  transition: 2s all;</span><br><span class="line">  <span class="keyword">if</span> (hexo-config('avatar.rounded')) &#123;</span><br><span class="line">    <span class="built_in">border</span>-<span class="built_in">radius</span>: <span class="number">50</span><span class="symbol">%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+//旋转</span><br><span class="line">+.site-author-<span class="built_in">image</span>:hover&#123;</span><br><span class="line">+  <span class="built_in">transform</span>: rotate(360deg);</span><br><span class="line">+&#125;</span><br></pre></td></tr></table></figure><h5 id="文章只显示预览-修改主题配置文件中的auto-excerpt"><a href="#文章只显示预览-修改主题配置文件中的auto-excerpt" class="headerlink" title="文章只显示预览 修改主题配置文件中的auto_excerpt"></a>文章只显示预览 修改主题配置文件中的auto_excerpt</h5><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">auto_excerpt:</span></span><br><span class="line"><span class="attr">- enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="string">+</span> <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  length:</span> <span class="number">150</span></span><br></pre></td></tr></table></figure><h5 id="友情链接"><a href="#友情链接" class="headerlink" title="友情链接"></a>友情链接</h5><p>在主题配置文件中搜索关键字 Blog rolls,添加自己需要的链接</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">links</span>:</span><br><span class="line">  #<span class="attribute">Title</span>: <span class="attribute">http</span>:<span class="comment">//example.com</span></span><br><span class="line">  <span class="attribute">baidu</span>: <span class="attribute">https</span>:<span class="comment">//www.baidu.com/</span></span><br><span class="line">  <span class="attribute">google</span>: <span class="attribute">https</span>:<span class="comment">//www.google.com/</span></span><br></pre></td></tr></table></figure><h5 id="本地搜索-未完全成功"><a href="#本地搜索-未完全成功" class="headerlink" title="本地搜索 未完全成功"></a>本地搜索 未完全成功</h5><p>在Hexo的根目录下执行以下命令。</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-generator-searchdb <span class="comment">--save</span></span><br></pre></td></tr></table></figure><p>打开主题配置文件,搜索关键字local_search,将enable的值设置为 true</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Local search</span></span><br><span class="line"><span class="comment"># Dependencies: https://github.com/theme-next/hexo-generator-searchdb</span></span><br><span class="line"><span class="attr">local_search:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>打开站点配置文件，搜索关键词search，修改为如下内容</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># 本地搜索</span></span><br><span class="line"><span class="symbol">search:</span></span><br><span class="line"><span class="symbol">  path:</span> search.xml</span><br><span class="line"><span class="symbol">  field:</span> post</span><br><span class="line"><span class="symbol">  format:</span> html</span><br><span class="line"><span class="symbol">  limit:</span> <span class="number">10000</span></span><br></pre></td></tr></table></figure><h4 id="一九年八月十六日"><a href="#一九年八月十六日" class="headerlink" title="一九年八月十六日"></a>一九年八月十六日</h4><h5 id="添加RSS"><a href="#添加RSS" class="headerlink" title="添加RSS"></a>添加RSS</h5><p>在Hexo根目录执行安装指令，安装 hexo-generator-feed 插件</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-generator-feed <span class="comment">--save</span></span><br></pre></td></tr></table></figure><p>打开站点配置文件，追加feed信息</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置RSS</span></span><br><span class="line"><span class="attr">feed:</span></span><br><span class="line"><span class="attr">  type:</span> <span class="string">rss2</span></span><br><span class="line"><span class="attr">  path:</span> <span class="string">rss2.html</span></span><br><span class="line"><span class="attr">  limit:</span> <span class="number">5</span></span><br><span class="line"><span class="attr">  hub:</span></span><br><span class="line"><span class="attr">  content:</span> <span class="string">'true'</span></span><br></pre></td></tr></table></figure><p>打开主题配置文件，找到rss，设置为</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">rss:</span> /atom.xml</span><br></pre></td></tr></table></figure><h5 id="添加社交链接"><a href="#添加社交链接" class="headerlink" title="添加社交链接"></a>添加社交链接</h5><p>在主题配置文件中，找到social属性，添加社交链接，步骤如下</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">social</span>:</span><br><span class="line">  <span class="attribute">E-Mail</span>: <span class="attribute">mailto</span>:yourname<span class="variable">@gmail</span>.com || envelope</span><br><span class="line">  <span class="attribute">Google</span>: <span class="attribute">https</span>:<span class="comment">//plus.google.com/yourname || google</span></span><br><span class="line">  <span class="attribute">Twitter</span>: <span class="attribute">https</span>:<span class="comment">//twitter.com/yourname || twitter</span></span><br><span class="line">  <span class="attribute">Facebook</span>: <span class="attribute">https</span>:<span class="comment">//www.facebook.com/yourname || facebook</span></span><br></pre></td></tr></table></figure><p>格式为： 社交平台名称：链接</p><h5 id="设置代码高亮"><a href="#设置代码高亮" class="headerlink" title="设置代码高亮"></a>设置代码高亮</h5><p>在站点配置文件中，搜索highlight关键词</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highlight:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  line_number:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  auto_detect:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  tab_replace:</span></span><br></pre></td></tr></table></figure><p>文字自动检测默认不启动，改成true使其起作用。</p><p>再到主题配置文件，搜索highlight_theme关键词，修改代码主题样式</p><figure class="highlight vala"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># Code Highlight theme</span></span><br><span class="line"><span class="meta"># Available values: normal | night | night eighties | night blue | night bright</span></span><br><span class="line"><span class="meta"># https://github.com/chriskempson/tomorrow-theme</span></span><br><span class="line">highlight_theme: night</span><br></pre></td></tr></table></figure><h5 id="添加复制按钮"><a href="#添加复制按钮" class="headerlink" title="添加复制按钮"></a>添加复制按钮</h5><p>在主题配置文件中，搜索关键词codeblock，将copy_button的enable值修改为true</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">codeblock:</span><br><span class="line">  #<span class="built_in"> Manual </span>define the border<span class="built_in"> radius </span><span class="keyword">in</span> codeblock</span><br><span class="line">  # Leave it empty <span class="keyword">for</span> the<span class="built_in"> default </span>1</span><br><span class="line">  border_radius:</span><br><span class="line">  # <span class="builtin-name">Add</span> copy button on codeblock</span><br><span class="line">  copy_button:</span><br><span class="line">    enable: <span class="literal">true</span></span><br></pre></td></tr></table></figure><h5 id="添加阅读次数统计"><a href="#添加阅读次数统计" class="headerlink" title="添加阅读次数统计"></a>添加阅读次数统计</h5><p>主题配置文件中，搜索关键词busuanzi_count，设置文章阅读次数统计及网站访客量</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Show Views/Visitors of the website/page with busuanzi.</span></span><br><span class="line"><span class="comment"># Get more information on http://ibruce.info/2015/04/04/busuanzi</span></span><br><span class="line"><span class="attr">busuanzi_count:</span></span><br><span class="line"><span class="attr">  enable:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  total_visitors:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  total_visitors_icon:</span> <span class="string">user</span></span><br><span class="line"><span class="attr">  total_views:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  total_views_icon:</span> <span class="string">eye</span></span><br><span class="line"><span class="attr">  post_views:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  post_views_icon:</span> <span class="string">eye</span></span><br></pre></td></tr></table></figure><h5 id="添加-README-md"><a href="#添加-README-md" class="headerlink" title="添加 README.md"></a>添加 README.md</h5><p>每个项目README.md文件可以简单说明这个项目的用途。在Hexo目录下的 source 根目录下添加一个 README.md 文件，修改站点配置文件，将 skip_render 参数的值设置为</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">skip_render:</span> README.md</span><br></pre></td></tr></table></figure><p>再次使用hexo d命令部署博客的时候就不会在渲染 README.md 这个文件。</p><h5 id="自定义网站头像"><a href="#自定义网站头像" class="headerlink" title="自定义网站头像"></a>自定义网站头像</h5><p>自定义头像可以使用<a href="http://www.bitbug.net/" target="_blank" rel="noopener">比特虫</a>网站制作 将图片的.png格式放在themes/next/source/images</p><p>在主题配置文件中，按以下修改</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">favicon:</span></span><br><span class="line"><span class="symbol">  small:</span> <span class="meta-keyword">/images/</span>favicon<span class="number">-16</span>x16-next.png     <span class="meta">#你的头像名称</span></span><br><span class="line"><span class="symbol">  medium:</span> <span class="meta-keyword">/images/</span>favicon<span class="number">-32</span>x32-next.png    <span class="meta">#你的头像名称</span></span><br><span class="line"><span class="symbol">  apple_touch_icon:</span> <span class="meta-keyword">/images/</span>apple-touch-icon-next.png</span><br><span class="line"><span class="symbol">  safari_pinned_tab:</span> <span class="meta-keyword">/images/</span>logo.svg</span><br><span class="line">  <span class="meta">#android_manifest: /images/manifest.json</span></span><br><span class="line">  <span class="meta">#ms_browserconfig: /images/browserconfig.xml</span></span><br></pre></td></tr></table></figure><p>改为</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">favicon:</span></span><br><span class="line"><span class="symbol">  small:</span> <span class="meta-keyword">/images/</span>favicon_op_16.png</span><br><span class="line"><span class="symbol">  medium:</span> <span class="meta-keyword">/images/</span>favicon_op_32.png</span><br><span class="line"><span class="symbol">  apple_touch_icon:</span> <span class="meta-keyword">/images/</span>op.jpeg</span><br><span class="line">  <span class="meta"># safari_pinned_tab: /images/logo.svg</span></span><br><span class="line">  <span class="meta"># safari_pinned_tab: /images/op.svg</span></span><br><span class="line">  <span class="meta">#android_manifest: /images/manifest.json</span></span><br><span class="line">  <span class="meta">#ms_browserconfig: /images/browserconfig.xml</span></span><br></pre></td></tr></table></figure><p><a href="https://onlineconvertfree.com/zh/convert-format/jpeg-to-svg/" target="_blank" rel="noopener">jpeg转svg文件</a></p><h5 id="开启版权声明"><a href="#开启版权声明" class="headerlink" title="开启版权声明"></a>开启版权声明</h5><p>打开主题配置文件,搜索关键字 creative_commons , post 改为 true</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">creative_commons:</span></span><br><span class="line"><span class="attr">  license:</span> <span class="string">by-nc-sa</span></span><br><span class="line"><span class="attr">  sidebar:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">  post:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">  language:</span></span><br></pre></td></tr></table></figure><h5 id="优化url"><a href="#优化url" class="headerlink" title="优化url"></a>优化url</h5><p>seo搜索引擎优化认为，网站的最佳结构是三层，但是默认hexo编译的站点打开文章的url是：sitename/year/mounth/day/title四层的结构，url不利于搜索引擎搜索。<br>因此，我们可以将url直接改成sitename/blog/title的形式，同时title最好是用英文，在站点配置文件搜索permalink关键词，并修改如下</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">url:</span> <span class="string">https:</span><span class="comment">//chloneda.github.io/</span></span><br><span class="line"><span class="string">root:</span> /</span><br><span class="line"><span class="string">permalink:</span> <span class="regexp">/blog/</span>:title.html</span><br><span class="line"><span class="string">permalink_defaults:</span></span><br></pre></td></tr></table></figure><h5 id="修改标签云-tagcloud-颜色"><a href="#修改标签云-tagcloud-颜色" class="headerlink" title="修改标签云(tagcloud)颜色"></a>修改标签云(tagcloud)颜色</h5><p>修改themes/next/layout/page.swig文件，加入自定义样式<br>修改对应参数值即可，参数说明见<a href="https://hexo.io/zh-cn/docs/helpers.html#tagcloud" target="_blank" rel="noopener">Hexo官方文档</a></p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">- &#123;&#123; tagcloud(&#123;<span class="string">min_font:</span> <span class="number">12</span>, <span class="string">max_font:</span> <span class="number">30</span>, <span class="string">amount:</span> <span class="number">200</span>, <span class="string">color:</span> <span class="literal">true</span>, <span class="string">start_color:</span> <span class="string">'#ccc'</span>, <span class="string">end_color:</span> <span class="string">'#111'</span>&#125;) &#125;&#125;</span><br><span class="line">+ &#123;&#123; tagcloud(&#123;<span class="string">min_font:</span> <span class="number">13</span>, <span class="string">max_font:</span> <span class="number">31</span>, <span class="string">amount:</span> <span class="number">1000</span>, <span class="string">color:</span> <span class="literal">true</span>, <span class="string">start_color:</span> <span class="string">'#9733EE'</span>, <span class="string">end_color:</span> <span class="string">'#FF512F'</span>&#125;) &#125;&#125;</span><br></pre></td></tr></table></figure><h5 id="修改文章底部-号标签-改为图标"><a href="#修改文章底部-号标签-改为图标" class="headerlink" title="修改文章底部#号标签,改为图标"></a>修改文章底部#号标签,改为图标</h5><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml">修改模板/themes/next/layout/_macro/post.swig，搜索 rel="tag"&gt;#，将 # 换成<span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-tag"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"</span></span></span><span class="template-variable">&#123;&#123; url_for(tag.path) &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span> <span class="attr">rel</span>=<span class="string">"tag"</span>&gt;</span></span><span class="template-variable">&#123;&#123; tag_indicate &#125;&#125;</span><span class="xml"> </span><span class="template-variable">&#123;&#123; tag.name &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"</span></span></span><span class="template-variable">&#123;&#123; url_for(tag.path) &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span> <span class="attr">rel</span>=<span class="string">"tag"</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-tag"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> </span><span class="template-variable">&#123;&#123; tag.name &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h5 id="隐藏底部”强力驱动”内容"><a href="#隐藏底部”强力驱动”内容" class="headerlink" title="隐藏底部”强力驱动”内容"></a>隐藏底部”强力驱动”内容</h5><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">修改themes/next/_config.yml文件,将powered和enable设置为false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="comment"># Specify the date when the site was setup. If not defined, current year will be used.</span></span><br><span class="line"><span class="attr">  since:</span> <span class="number">2019</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Icon between year and copyright info.</span></span><br><span class="line"><span class="attr">  icon:</span></span><br><span class="line">    <span class="comment"># Icon name in Font Awesome. See: https://fontawesome.com/v4.7.0/icons/</span></span><br><span class="line">    <span class="comment"># `heart` is recommended with animation in red (#ff0000).</span></span><br><span class="line"><span class="attr">    name:</span> <span class="string">user</span></span><br><span class="line">    <span class="comment"># If you want to animate the icon, set it to true.</span></span><br><span class="line"><span class="attr">    animated:</span> <span class="literal">false</span></span><br><span class="line">    <span class="comment"># Change the color of icon, using Hex Code.</span></span><br><span class="line"><span class="attr">    color:</span> <span class="string">"#808080"</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># If not defined, `author` from Hexo `_config.yml` will be used.</span></span><br><span class="line"><span class="attr">  copyright:</span></span><br><span class="line"></span><br><span class="line"><span class="attr">  powered:</span></span><br><span class="line">    <span class="comment"># Hexo link (Powered by Hexo).</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="comment"># Version info of Hexo after Hexo link (vX.X.X).</span></span><br><span class="line"><span class="attr">    version:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">  theme:</span></span><br><span class="line">    <span class="comment"># Theme &amp; scheme info link (Theme - NexT.scheme).</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">false</span></span><br><span class="line">    <span class="comment"># Version info of NexT after scheme info (vX.X.X).</span></span><br><span class="line"><span class="attr">    version:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line">  <span class="comment"># Beian ICP information for Chinese users. See: http://www.beian.miit.gov.cn</span></span><br><span class="line"><span class="attr">  beian:</span></span><br><span class="line"><span class="attr">    enable:</span> <span class="literal">false</span></span><br><span class="line"><span class="attr">    icp:</span></span><br></pre></td></tr></table></figure><h5 id="文章末尾添加”本文结束”标记"><a href="#文章末尾添加”本文结束”标记" class="headerlink" title="文章末尾添加”本文结束”标记"></a>文章末尾添加”本文结束”标记</h5><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml">修改在themes/next/layout/_macro/post.swig中，在wechat-subscriber.swig之前添加如下代码</span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">+ <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align:center;color: #ccc;font-size:14px;"</span>&gt;</span>---------------- The End ----------------<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">      </span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> theme.wechat_subscriber.enable %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">        </span><span class="template-variable">&#123;&#123; partial('../_partials/post/wechat-subscriber.swig', &#123;&#125;, &#123;cache: theme.cache.enable&#125;) &#125;&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">      </span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure><h5 id="移动端显示-back-to-top-按钮和侧栏"><a href="#移动端显示-back-to-top-按钮和侧栏" class="headerlink" title="移动端显示 back-to-top 按钮和侧栏"></a>移动端显示 back-to-top 按钮和侧栏</h5><p>具体手机显示可用手机访问我的博客</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">修改主题配置themes/next/_config.yml</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Enable sidebar on narrow view</span></span><br><span class="line"><span class="attr">onmobile:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h5 id="设置动态title"><a href="#设置动态title" class="headerlink" title="设置动态title"></a>设置动态title</h5><p>themes/next/source/js/src 下创建 dytitle.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> OriginTitile = <span class="built_in">document</span>.title;</span><br><span class="line"><span class="keyword">var</span> titleTime;</span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">'visibilitychange'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.hidden) &#123;</span><br><span class="line">        $(<span class="string">'[rel="shortcut icon"]'</span>).attr(<span class="string">'href'</span>, <span class="string">"/TEP.png"</span>);</span><br><span class="line">        <span class="built_in">document</span>.title = <span class="string">'w(ﾟДﾟ)w 出BUG啦！！！！'</span>;</span><br><span class="line">        clearTimeout(titleTime);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        $(<span class="string">'[rel="shortcut icon"]'</span>).attr(<span class="string">'href'</span>, <span class="string">"/favicon.png"</span>);</span><br><span class="line">        <span class="built_in">document</span>.title = <span class="string">'♪(^∇^*)又好了。。。 '</span> + OriginTitile;</span><br><span class="line">        titleTime = setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">document</span>.title = OriginTitile;</span><br><span class="line">        &#125;, <span class="number">2000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>修改themes/next/layout/layout.swing,在 之前添加：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/src/dytitle.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="侧栏加入已运行的时间"><a href="#侧栏加入已运行的时间" class="headerlink" title="侧栏加入已运行的时间"></a>侧栏加入已运行的时间</h5><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">修改文件<span class="symbol">:themes/next/layout/_custom/sidebar</span>.swig，加入一下代码</span><br><span class="line"></span><br><span class="line">BirthDay=new Date(<span class="string">"05/27/2017 15:13:14"</span>); 日期修改为自己的</span><br></pre></td></tr></table></figure><figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">"days"</span>&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">function show_date_time()&#123;</span><br><span class="line">window.setTimeout(<span class="string">"show_date_time()"</span>， 1000);</span><br><span class="line">BirthDay=new Date(<span class="string">"05/27/2017 15:13:14"</span>);</span><br><span class="line">today=new Date();</span><br><span class="line">timeold=(today.getTime()-BirthDay.getTime());</span><br><span class="line">sectimeold=timeold/1000</span><br><span class="line">secondsold=Math.floor(sectimeold);</span><br><span class="line">msPerDay=24*60*60*1000</span><br><span class="line">e_daysold=timeold/msPerDay</span><br><span class="line">daysold=Math.floor(e_daysold);</span><br><span class="line">e_hrsold=(e_daysold-daysold)*24;</span><br><span class="line">hrsold=setzero(Math.floor(e_hrsold));</span><br><span class="line">e_minsold=(e_hrsold-hrsold)*60;</span><br><span class="line">minsold=setzero(Math.floor((e_hrsold-hrsold)*60));</span><br><span class="line">seconds=setzero(Math.floor((e_minsold-minsold)*60));</span><br><span class="line">document.getElementById('days').innerHTML=<span class="string">"已运行"</span>+daysold+<span class="string">"天"</span>+hrsold+<span class="string">"小时"</span>+minsold+<span class="string">"分"</span>+seconds+<span class="string">"秒"</span>;</span><br><span class="line">&#125;</span><br><span class="line">function setzero(i)&#123;</span><br><span class="line">if (i&lt;10)</span><br><span class="line">&#123;i=<span class="string">"0"</span> + i&#125;;</span><br><span class="line">return i;</span><br><span class="line">&#125;</span><br><span class="line">show_date_time();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">修改文件themes<span class="regexp">/next/</span>layout<span class="regexp">/_macro/</span>sidebar.swig</span><br></pre></td></tr></table></figure><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml">        </span><span class="comment">&#123;# Blogroll #&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">        </span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> theme.links %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"links-of-blogroll motion-element </span></span></span><span class="template-variable">&#123;&#123; "links-of-blogroll-" + theme.links_layout | default('inline') &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"links-of-blogroll-title"</span>&gt;</span></span></span><br><span class="line"><span class="xml">              <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa  fa-fw fa-</span></span></span><span class="template-variable">&#123;&#123; theme.links_icon | default('globe') | lower &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="xml">              </span><span class="template-variable">&#123;&#123; theme.links_title &#125;&#125;</span><span class="xml">&amp;nbsp;</span></span><br><span class="line"><span class="xml">              <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa  fa-fw fa-</span></span></span><span class="template-variable">&#123;&#123; theme.links_icon | default('globe') | lower &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"links-of-blogroll-list"</span>&gt;</span></span></span><br><span class="line"><span class="xml">              </span><span class="template-tag">&#123;% <span class="name"><span class="name">for</span></span> name, link <span class="keyword">in</span> theme.links %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"links-of-blogroll-item"</span>&gt;</span></span></span><br><span class="line"><span class="xml">                  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"</span></span></span><span class="template-variable">&#123;&#123; link &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span> <span class="attr">title</span>=<span class="string">"</span></span></span><span class="template-variable">&#123;&#123; name &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span> <span class="attr">target</span>=<span class="string">"_blank"</span>&gt;</span></span><span class="template-variable">&#123;&#123; name &#125;&#125;</span><span class="xml"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="xml">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">              </span><span class="template-tag">&#123;% <span class="name"><span class="name">endfor</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span></span><br><span class="line"><span class="xml">+        </span><span class="template-tag">&#123;% <span class="name"><span class="name">include</span></span> '../_custom/sidebar.swig' %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">         </span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">-        </span><span class="template-tag">&#123;% <span class="name"><span class="name">include</span></span> '../_custom/sidebar.swig' %&#125;</span><span class="xml"></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml">--------------------------------------------------------</span></span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">frameborder</span>=<span class="string">"no"</span> <span class="attr">border</span>=<span class="string">"0"</span> <span class="attr">marginwidth</span>=<span class="string">"0"</span> <span class="attr">marginheight</span>=<span class="string">"0"</span> <span class="attr">width</span>=<span class="string">332</span> <span class="attr">height</span>=<span class="string">86</span> <span class="attr">src</span>=<span class="string">"//music.163.com/outchain/player?type=2&amp;id=22842399&amp;auto=1&amp;height=66"</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span></span></span><br><span class="line"><span class="xml"></span></span><br><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">include</span></span> '../_custom/sidebar.swig' %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure><h3 id="未添加功能"><a href="#未添加功能" class="headerlink" title="未添加功能"></a>未添加功能</h3><hr><h5 id="二维码打赏"><a href="#二维码打赏" class="headerlink" title="二维码打赏"></a>二维码打赏</h5><p>得到二维码图片资源后，读者们可将二维码图片放到NexT根目录/source/images/文件夹下。<br>开启打赏功能<br>打开主题配置文件，搜索reward关键词，添加打赏的配置信息</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># Reward</span></span><br><span class="line"><span class="meta"># If true, reward would be displayed in every article by default.</span></span><br><span class="line"><span class="meta"># And you can show or hide one article specially through add page variable `reward: true/false`.</span></span><br><span class="line"><span class="symbol">reward:</span></span><br><span class="line"><span class="symbol">  enable:</span> true  <span class="comment">//默认是false，改为true</span></span><br><span class="line"><span class="symbol">  comment:</span> 您的支持是对我最大的鼓励</span><br><span class="line"><span class="symbol">  wechatpay:</span> <span class="meta-keyword">/images/</span>wechatpay.jpg  <span class="meta">#图片链接或图片相对路径</span></span><br><span class="line"><span class="symbol">  alipay:</span> <span class="meta-keyword">/images/</span>alipay.jpg      <span class="meta">#图片链接或图片相对路径</span></span><br></pre></td></tr></table></figure><h5 id="添加自定义页面-友链-未添加"><a href="#添加自定义页面-友链-未添加" class="headerlink" title="添加自定义页面[友链] 未添加"></a>添加自定义页面[友链] 未添加</h5><p>设置菜单项的显示中文文本，打开themes/next/languages/zh-CN.yml文件,搜索 menu 关键字，修改对应中文或者新增</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">menu:</span></span><br><span class="line"><span class="symbol">  home:</span> 首页</span><br><span class="line"><span class="symbol">  archives:</span> 归档</span><br><span class="line"><span class="symbol">  categories:</span> 分类</span><br><span class="line"><span class="symbol">  tags:</span> 标签</span><br><span class="line"><span class="symbol">  about:</span> 关于</span><br><span class="line"><span class="symbol">  search:</span> 搜索</span><br><span class="line">  <span class="meta"># schedule: 日程表</span></span><br><span class="line">  <span class="meta"># sitemap: 站点地图</span></span><br><span class="line">  <span class="meta"># commonweal: 公益404</span></span><br><span class="line">  <span class="meta"># 新增menu</span></span><br><span class="line"><span class="symbol">  links:</span> 友链 <span class="meta"># 新增该选项表示新增“友链”菜单</span></span><br></pre></td></tr></table></figure><h5 id="新增links菜单"><a href="#新增links菜单" class="headerlink" title="新增links菜单"></a>新增links菜单</h5><p>在主题配置文件，搜索menu，新增<code>links: /links/ || link</code></p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># 菜单示例配置</span></span><br><span class="line"><span class="symbol">menu:</span></span><br><span class="line"><span class="symbol">  home:</span> / || home</span><br><span class="line"><span class="symbol">  reading:</span> <span class="meta-keyword">/reading/</span> || book</span><br><span class="line"><span class="symbol">  archives:</span> <span class="meta-keyword">/archives/</span> || archive</span><br><span class="line"><span class="symbol">  categories:</span> <span class="meta-keyword">/categories/</span> || th</span><br><span class="line">  <span class="meta">#tags: /tags/ || tags</span></span><br><span class="line"><span class="symbol">  about:</span> <span class="meta-keyword">/about/</span> || user</span><br><span class="line"><span class="symbol">  links:</span> <span class="meta-keyword">/links/</span> || link</span><br></pre></td></tr></table></figure><p>hexo根目录下，执行以下命令，新建友链页面</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new<span class="built_in"> page </span>links</span><br></pre></td></tr></table></figure><p>修改站点目录下source/links的 index.md 文件</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">友链</span></span><br><span class="line"><span class="attr">tags:</span> <span class="string">links</span></span><br><span class="line"><span class="attr">categories:</span> <span class="string">links</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">false</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><hr><p><a href="https://www.jianshu.com/p/85192626faf3" target="_blank" rel="noopener">Github+Hexo一站式部署个人博客</a><br><a href="http://xyua.top/Hexo/hexo_next_blog.html" target="_blank" rel="noopener">http://xyua.top/Hexo/hexo_next_blog.html</a></p>]]></content:encoded>
      
      <comments>https://joelying.github.io//blog/NexT%E4%B8%BB%E9%A2%98%E4%BC%98%E5%8C%96%E8%AE%B0%E5%BD%95.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Clover主题配置</title>
      <link>https://joelying.github.io//blog/Clover%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE.html</link>
      <guid>https://joelying.github.io//blog/Clover%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE.html</guid>
      <pubDate>Wed, 14 Aug 2019 11:13:03 GMT</pubDate>
      <description>
      
        &lt;p&gt;&lt;strong&gt;在站点配置文件的theme更换主题名称即可切换博客主题，不影响之前一个主题的博客设置&lt;/strong&gt;&lt;/p&gt;&lt;h3 id=&quot;zh-CN-yml&quot;&gt;&lt;a href=&quot;#zh-CN-yml&quot; class=&quot;headerlink&quot; title=&quot;zh-CN.yml&quot;&gt;&lt;/a&gt;zh-CN.yml&lt;/h3&gt;&lt;hr&gt;&lt;figure class=&quot;highlight subunit&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;categories: 分类&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;tags:&lt;/span&gt; 标签&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;archive_a: 归档&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;archive_b: 归档：%s&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;page: 第 %d 页&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;category: 分类&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;tag: 标签&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;other_category: 其他&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;links: 友链&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
      
      </description>
      
      <content:encoded><![CDATA[<p><strong>在站点配置文件的theme更换主题名称即可切换博客主题，不影响之前一个主题的博客设置</strong></p><h3 id="zh-CN-yml"><a href="#zh-CN-yml" class="headerlink" title="zh-CN.yml"></a>zh-CN.yml</h3><hr><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">categories: 分类</span><br><span class="line"><span class="keyword">tags:</span> 标签</span><br><span class="line">archive_a: 归档</span><br><span class="line">archive_b: 归档：%s</span><br><span class="line">page: 第 %d 页</span><br><span class="line">category: 分类</span><br><span class="line">tag: 标签</span><br><span class="line">other_category: 其他</span><br><span class="line">links: 友链</span><br></pre></td></tr></table></figure><a id="more"></a><h3 id="config-yml"><a href="#config-yml" class="headerlink" title="_config.yml"></a>_config.yml</h3><hr><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Custom nav</span></span><br><span class="line"><span class="attr">nav:</span></span><br><span class="line"><span class="attr">  title:</span> <span class="string">"Joel Ying"</span></span><br><span class="line"></span><br><span class="line"><span class="attr">favicon:</span> <span class="string">""</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Custom background</span></span><br><span class="line"><span class="attr">background:</span></span><br><span class="line"><span class="attr">  color:</span> <span class="string">"#eff0f6"</span></span><br><span class="line"><span class="attr">  image:</span> <span class="string">""</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Social media</span></span><br><span class="line"><span class="attr">social:</span></span><br><span class="line"><span class="attr">  Dribbble:</span> <span class="comment"># https://dribbble.com/clovertuan</span></span><br><span class="line"><span class="attr">  Behance:</span> <span class="comment"># https://www.behance.net/clovertuan</span></span><br><span class="line"><span class="attr">  Lofter:</span> <span class="comment"># http://clovertuan.lofter.com/</span></span><br><span class="line"><span class="attr">  Instagram:</span> <span class="comment"># https://www.instagram.com/clovertuan/</span></span><br><span class="line"><span class="attr">  GitHub:</span> <span class="attr">https://github.com/joelYing</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Custom footer</span></span><br><span class="line"><span class="attr">mail:</span> <span class="number">635328166</span><span class="string">@qq.com</span></span><br><span class="line"><span class="attr">copyright:</span> <span class="string">All</span> <span class="string">rights</span> <span class="string">reserved</span> <span class="string">@Joel</span> <span class="string">Ying</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Custom menu. You can specific the path or the card style (only useful for category page).</span></span><br><span class="line"><span class="comment"># Two kinds of card style: 'project-card', 'article-card',</span></span><br><span class="line"><span class="comment"># Never mind the name.</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="comment"># Project:</span></span><br><span class="line">  <span class="comment">#   path: /categories/Projects</span></span><br><span class="line">  <span class="comment">#   card: project-card</span></span><br><span class="line">  <span class="comment"># Stuffs:</span></span><br><span class="line">  <span class="comment">#   path: /tags/Stuffs</span></span><br><span class="line">  <span class="comment">#   card: article-card</span></span><br><span class="line"><span class="attr">  home:</span> <span class="string">/</span></span><br><span class="line"><span class="attr">  archives:</span> <span class="string">/archives</span></span><br><span class="line"><span class="attr">  categories:</span> <span class="string">/categories</span></span><br><span class="line"><span class="attr">  tags:</span> <span class="string">/tags</span></span><br><span class="line"><span class="attr">  link:</span> <span class="string">/links</span></span><br><span class="line"><span class="attr">  about:</span> <span class="string">/about</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Specific default categories or tags of home page.</span></span><br><span class="line"><span class="comment"># Post which belongs to `category` or `tag` and don't belongs to `except_category` or `except_tag` will be filtered.</span></span><br><span class="line"><span class="attr">home:</span></span><br><span class="line">  <span class="comment"># set card style of home page</span></span><br><span class="line">  <span class="comment"># category: Projects</span></span><br><span class="line">  <span class="comment"># tag: 算法</span></span><br><span class="line">  <span class="comment"># except_category: 树</span></span><br><span class="line">  <span class="comment"># except_tag:</span></span><br><span class="line">  <span class="comment">#   - 总结</span></span><br><span class="line">  <span class="comment">#   - css</span></span><br><span class="line"></span><br><span class="line"><span class="attr">card_style:</span></span><br><span class="line"><span class="attr">  home:</span> <span class="string">project-card</span></span><br><span class="line"><span class="attr">  archive:</span> <span class="string">article-card</span></span><br><span class="line"><span class="attr">  tag:</span> <span class="string">article-card</span></span><br><span class="line"><span class="attr">  category:</span> <span class="string">article-card</span></span><br><span class="line"><span class="attr">  link:</span> <span class="string">article-card</span></span><br><span class="line"><span class="attr">  about:</span> <span class="string">article-card</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># category page</span></span><br><span class="line"><span class="attr">category_generator:</span></span><br><span class="line"><span class="attr">  category_per_page:</span> <span class="number">3</span></span><br><span class="line"><span class="attr">  post_per_category:</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="attr">node_sass:</span></span><br><span class="line"><span class="attr">  outputStyle:</span> <span class="string">nested</span></span><br><span class="line"><span class="attr">  precision:</span> <span class="number">5</span></span><br><span class="line"><span class="attr">  sourceComments:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><h3 id="about-index-md"><a href="#about-index-md" class="headerlink" title="about-index.md"></a>about-index.md</h3><hr><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">layout:</span> <span class="string">about</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">about</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019</span><span class="bullet">-08</span><span class="bullet">-12</span> <span class="number">14</span><span class="string">:52:23</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"></span><br><span class="line"><span class="string">Hi，这里是半个兴趣使然的程序员</span></span><br></pre></td></tr></table></figure><h3 id="category-index-md"><a href="#category-index-md" class="headerlink" title="category-index.md"></a>category-index.md</h3><hr><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">layout:</span> <span class="string">category</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">categories</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019</span><span class="bullet">-08</span><span class="bullet">-12</span> <span class="number">14</span><span class="string">:48:57</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><h3 id="links-index-md"><a href="#links-index-md" class="headerlink" title="links-index.md"></a>links-index.md</h3><hr><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">links</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019</span><span class="bullet">-08</span><span class="bullet">-13</span> <span class="number">10</span><span class="string">:43:10</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line"></span><br><span class="line"><span class="attr">WeChat:</span> <span class="string">yjl15822897030</span></span><br><span class="line"><span class="attr">QQ:</span> <span class="number">635328166</span></span><br><span class="line"><span class="attr">MyWeb:</span> <span class="string">www.joelyings.com</span></span><br><span class="line"><span class="string">Learn</span> <span class="attr">From:</span> <span class="attr">https://clovertuan.github.io/</span></span><br></pre></td></tr></table></figure><h3 id="tag-index-md"><a href="#tag-index-md" class="headerlink" title="tag-index.md"></a>tag-index.md</h3><hr><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">layout:</span> <span class="string">tag</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">tags</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2019</span><span class="bullet">-08</span><span class="bullet">-12</span> <span class="number">14</span><span class="string">:44:58</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><h3 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h3><p><img src="http://pw407zrf4.bkt.clouddn.com/clover1.png" alt><br><img src="http://pw407zrf4.bkt.clouddn.com/clover2.png" alt><br><img src="http://pw407zrf4.bkt.clouddn.com/clover3.png" alt><br><img src="http://pw407zrf4.bkt.clouddn.com/clover4.png" alt><br><img src="http://pw407zrf4.bkt.clouddn.com/clover5.png" alt><br><img src="http://pw407zrf4.bkt.clouddn.com/clover6.png" alt></p>]]></content:encoded>
      
      <comments>https://joelying.github.io//blog/Clover%E4%B8%BB%E9%A2%98%E9%85%8D%E7%BD%AE.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Hexo+Github Pages基础版搭建攻略</title>
      <link>https://joelying.github.io//blog/Hexo+Github%20Pages%E5%9F%BA%E7%A1%80%E7%89%88%E6%90%AD%E5%BB%BA%E6%94%BB%E7%95%A5.html</link>
      <guid>https://joelying.github.io//blog/Hexo+Github%20Pages%E5%9F%BA%E7%A1%80%E7%89%88%E6%90%AD%E5%BB%BA%E6%94%BB%E7%95%A5.html</guid>
      <pubDate>Tue, 13 Aug 2019 04:37:09 GMT</pubDate>
      <description>
      
        &lt;h3 id=&quot;引子&quot;&gt;&lt;a href=&quot;#引子&quot; class=&quot;headerlink&quot; title=&quot;引子&quot;&gt;&lt;/a&gt;引子&lt;/h3&gt;&lt;hr&gt;&lt;p&gt;早就有想做一个个人博客的想法，想写些内容放进去，给自己提个醒，也想把过程分享给大家，所以一开始也在CSDN，简书上发了许多，但是没有一种真正的属于自己的空间的感觉&lt;/p&gt;&lt;p&gt;于是借此机会，正式尝试一下通过Hexo+GitHub来搭建一个个人博客，记录如下&lt;/p&gt;&lt;h3 id=&quot;概念&quot;&gt;&lt;a href=&quot;#概念&quot; class=&quot;headerlink&quot; title=&quot;概念&quot;&gt;&lt;/a&gt;概念&lt;/h3&gt;&lt;hr&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Hexo&lt;/strong&gt;&lt;br&gt;Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Markdown&lt;/a&gt;或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页，详情可见&lt;a href=&quot;[https://hexo.io/zh-cn/](https://hexo.io/zh-cn/)&quot;&gt;官网&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;[https://github.com/hexojs/hexo](https://github.com/hexojs/hexo)&quot;&gt;Hexo&lt;/a&gt;也是GitHub上的开源项目&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Github Pages&lt;/strong&gt;&lt;br&gt;这里我们用到了GitHub提供的&lt;strong&gt;GitHub Pages&lt;/strong&gt;，&lt;strong&gt;完全免费&lt;/strong&gt;、&lt;strong&gt;无须自己购买云服务搭建&lt;/strong&gt;、&lt;strong&gt;支持多功能&lt;/strong&gt;等，是&lt;strong&gt;GitHub Pages&lt;/strong&gt;的优势之处，当然也会有一些限制，比如网站大小不能超过1GB等，但是综合来说&lt;strong&gt;GitHub Pages&lt;/strong&gt;依旧是中小型博客或项目主页的最佳选项之一（&lt;a href=&quot;[https://sspai.com/post/54608](https://sspai.com/post/54608)&quot;&gt;参考一&lt;/a&gt;）&lt;br&gt;当然&lt;strong&gt;GitHub Pages&lt;/strong&gt;也是有着自己的主题，相对来说比较简单，所以官方推荐了使用&lt;a href=&quot;https://jekyllrb.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Jekyll&lt;/a&gt;进行对博客的丰富&lt;br&gt;但是这里我就尝试了用Node.js编写的Hexo来搭建，除此之外还有Go 编写的 Hugo，Python 编写的 Pelican，以及更人性化的 Gridea等&lt;/li&gt;
&lt;/ul&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h3 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h3><hr><p>早就有想做一个个人博客的想法，想写些内容放进去，给自己提个醒，也想把过程分享给大家，所以一开始也在CSDN，简书上发了许多，但是没有一种真正的属于自己的空间的感觉</p><p>于是借此机会，正式尝试一下通过Hexo+GitHub来搭建一个个人博客，记录如下</p><h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><hr><ul><li><strong>Hexo</strong><br>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 <a href="http://daringfireball.net/projects/markdown/" target="_blank" rel="noopener">Markdown</a>或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页，详情可见<a href="[https://hexo.io/zh-cn/](https://hexo.io/zh-cn/)">官网</a><br><a href="[https://github.com/hexojs/hexo](https://github.com/hexojs/hexo)">Hexo</a>也是GitHub上的开源项目</li><li><strong>Github Pages</strong><br>这里我们用到了GitHub提供的<strong>GitHub Pages</strong>，<strong>完全免费</strong>、<strong>无须自己购买云服务搭建</strong>、<strong>支持多功能</strong>等，是<strong>GitHub Pages</strong>的优势之处，当然也会有一些限制，比如网站大小不能超过1GB等，但是综合来说<strong>GitHub Pages</strong>依旧是中小型博客或项目主页的最佳选项之一（<a href="[https://sspai.com/post/54608](https://sspai.com/post/54608)">参考一</a>）<br>当然<strong>GitHub Pages</strong>也是有着自己的主题，相对来说比较简单，所以官方推荐了使用<a href="https://jekyllrb.com/" target="_blank" rel="noopener">Jekyll</a>进行对博客的丰富<br>但是这里我就尝试了用Node.js编写的Hexo来搭建，除此之外还有Go 编写的 Hugo，Python 编写的 Pelican，以及更人性化的 Gridea等</li></ul><a id="more"></a><h3 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h3><hr><ul><li>GitHub创建个人仓库</li><li>安装Git</li><li>安装Node.js</li><li>安装Hexo</li><li>将 GitHub Pages 和 Hexo 关联</li><li>使用图床</li><li>完成基础版搭建</li></ul><h4 id="GitHub创建个人仓库"><a href="#GitHub创建个人仓库" class="headerlink" title="GitHub创建个人仓库"></a>GitHub创建个人仓库</h4><p>登录到GitHub，如果没有GitHub账号，<a href="[https://github.com/join](https://github.com/join)">注册一个GitHub账号</a>，创建一个名为<strong>username.github.io</strong>的新存储库，其中<strong>username</strong>是你的用户名（或组织名称），如下图<br><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-13_171326.png" alt><br><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-13_171003.png" alt><br>创建成功之后，你就能看到已经生成了这样的一个名称为<strong>‘’username.github.io’’</strong>的仓库</p><p><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-13_171053.png" alt></p><h4 id="安装Git"><a href="#安装Git" class="headerlink" title="安装Git"></a>安装Git</h4><p>简单来说Git是开源的分布式版本控制系统，我们网站在本地搭建好了，需要使用Git将项目同步到GitHub上。如果想了解Git的细节，参考<a href="https://www.liaoxuefeng.com/wiki/896043488029600/896067074338496" target="_blank" rel="noopener">廖雪峰老师的Git教程</a>，在Windows上使用Git，可以从Git官网直接<a href="https://git-scm.com/downloads" target="_blank" rel="noopener">下载安装程序</a>，然后按默认选项安装即可</p><p>安装完成后，右键打开<strong>“Git Bash Here”</strong>，蹦出一个类似命令行窗口的东西，就说明Git安装成功！</p><p><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-13_174055.png" alt></p><p><strong>在打开的窗口中输入命令设置user.name和user.email配置信息</strong></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git<span class="built_in"> config </span>--global user.name <span class="string">"你的GitHub用户名"</span></span><br><span class="line">git<span class="built_in"> config </span>--global user.email <span class="string">"你的GitHub注册邮箱"</span></span><br></pre></td></tr></table></figure><p><strong>生成ssh密钥文件</strong></p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -<span class="built_in">t</span> rsa -C <span class="string">"你的GitHub注册邮箱"</span></span><br></pre></td></tr></table></figure><p>然后直接三个回车即可，默认不需要设置密码<br>然后找到生成的.ssh的文件夹中的id_rsa.pub密钥，将内容全部复制，<strong>.ssh</strong>文件一般在<strong>“C盘下\用户文件夹\管理员文件夹”</strong>下</p><p><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-13_174644.png" alt></p><p>打开<a href="[https://github.com/settings/keys](https://github.com/settings/keys)">GitHub&gt;Settings&gt;SSH and GPG keys</a>页面，新建”New SSH Key”，Title为标题，随意填即可，将刚刚复制的id_rsa.pub内容复制进去，最后点击Add SSH key</p><p><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-13_175102.png" alt><br><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-13_175511.png" alt><br><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-13_175527.png" alt></p><p>在Git Bash中检测GitHub公钥设置是否成功，输入</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ssh</span> <span class="selector-tag">git</span>@<span class="keyword">github</span>.<span class="keyword">com</span></span><br></pre></td></tr></table></figure><p><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-13_180039.png" alt></p><p>如上则说明成功</p><p>这里之所以设置GitHub密钥原因是，通过非对称加密的公钥与私钥来完成加密，公钥放置在GitHub上，私钥放置在自己的电脑里。GitHub要求每次推送代码都是合法用户，所以每次推送都需要输入账号密码验证推送用户是否是合法用户，为了省去每次输入密码的步骤，采用了ssh，当你推送的时候，git就会匹配你的私钥跟GitHub上面的公钥是否是配对的，若是匹配就认为你是合法用户，则允许推送。这样可以保证每次的推送都是正确合法的</p><h4 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h4><p>Hexo基于Node.js，<a href="[https://nodejs.org/en/download/](https://nodejs.org/en/download/)">Node.js下载地址</a>下载安装包，注意安装Node.js会包含环境变量及npm的安装，例如版本 10.16.2 (includes npm 6.9.0)，安装后</p><p><strong>检测Node.js是否安装成功</strong>，重新打开Git Bash输入</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">node</span> <span class="title">-v</span></span><br></pre></td></tr></table></figure><p>出现对应版本号即说明Node.js安装成功，<strong>检测npm是否安装成功</strong></p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">npm</span> -v</span><br></pre></td></tr></table></figure><p>至此，安装Hexo的环境已经全部搭建完成</p><h4 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h4><p>Hexo就是我们个人博客的框架，这里需要在自己的电脑里创建一个文件夹，这里我命名为HexoGP，Hexo框架与以后你自己发布的网站都在这个文件夹中，创建好后，<strong>进入文件夹中 -&gt; Git Bash Here -&gt; 使用npm命令安装Hexo</strong></p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-<span class="keyword">cli</span></span><br></pre></td></tr></table></figure><p>安装完成后，初始化我们的博客，输入：</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo init HexoGP</span></span><br></pre></td></tr></table></figure><p>这是HexoGP文件夹下生成的内容</p><p><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-13_194007.png" alt></p><p><strong>public</strong>文件夹下包含有发表的博文及主要页面的HTML文件，<strong>source</strong>下是发表博文以及其他页面的内容的md文件，<strong>themes</strong>则是下载的主题文件</p><p>为了检测网站的雏形，分别按顺序输入一下三条命令<strong>（新建博客文章、生成网页、在本地预览）</strong>：</p><figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> <span class="type">test</span></span><br><span class="line"><span class="type">hexo</span> g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>完成后在浏览器输入: <a href="http://localhost:4000/，可以看到我们写出的第一篇博文test" target="_blank" rel="noopener">http://localhost:4000/，可以看到我们写出的第一篇博文test</a></p><p><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-12_103210.png" alt></p><p>这是在Hexo默认主题下的页面</p><p><strong>Hexo常用命令</strong></p><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">npm</span> install hexo -g                <span class="comment">#安装Hexo</span></span><br><span class="line"><span class="built_in">npm</span> update hexo -g                 <span class="comment">#升级 </span></span><br><span class="line">hexo init                          <span class="comment">#初始化博客</span></span><br></pre></td></tr></table></figure><p><strong>命令简写</strong></p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">hexo n <span class="string">"我的博客"</span> == hexo new <span class="string">"我的博客"</span>    #新建文章</span><br><span class="line">hexo g == hexo generate                   #生成</span><br><span class="line">hexo s == hexo<span class="built_in"> server </span>                    #启动服务预览</span><br><span class="line">hexo d == hexo deploy                     #部署</span><br><span class="line"></span><br><span class="line">hexo<span class="built_in"> server </span>                              #Hexo会监视文件变动并自动更新，无须重启服务器</span><br><span class="line">hexo<span class="built_in"> server </span>-s                            #静态模式</span><br><span class="line">hexo<span class="built_in"> server </span>-p 5000                       #更改端口</span><br><span class="line">hexo<span class="built_in"> server </span>-i 192.168.1.1                #自定义 IP</span><br><span class="line">hexo clean                                #清除缓存，若是网页正常情况下可以忽略这条命令</span><br></pre></td></tr></table></figure><h4 id="将-GitHub-Pages-和-Hexo-关联"><a href="#将-GitHub-Pages-和-Hexo-关联" class="headerlink" title="将 GitHub Pages 和 Hexo 关联"></a>将 GitHub Pages 和 Hexo 关联</h4><p>在我的HexoGP<strong>根目录里_config.yml文件为站点配置文件，根目录里的themes文件夹，里面也有个_config.yml文件，这个称为主题配置文件</strong>，打开站点配置文件_config.yml修改deploy:</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">deploy</span>:</span><br><span class="line">    <span class="attribute">type</span>: git</span><br><span class="line">    <span class="attribute">repository</span>: <span class="attribute">https</span>:<span class="comment">//github.com/joelYing/joelYing.github.io.git</span></span><br><span class="line">    <span class="attribute">branch</span>: master</span><br></pre></td></tr></table></figure><p>保存站点配置，其实就是让hexo知道你要把Hexo部署在哪个位置，很明显，我们部署在我们GitHub仓库里，最后安装Git部署插件</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-deployer-git <span class="comment">--save</span></span><br></pre></td></tr></table></figure><p><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-12_104023.png" alt><br>红框中的出现是由于fsevent是mac系统的，在win或者Linux下使用了，所以会有警告，忽略即可</p><p>fsevent的作用是能够检测文件目录的修改，可以记录恶意软件的非法操作，获取恶意软件的完整路径，删除和修改日期</p><p>这时，我们分别再输入三条命令，即可在通过xxx.github.io看到我们的博客了</p><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo clean</span></span><br><span class="line"><span class="attribute">hexo g</span></span><br><span class="line"><span class="attribute">hexo d</span></span><br></pre></td></tr></table></figure><p><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-12_104309.png" alt><br><strong>可能出现的问题</strong><br>在 <strong>hexo d</strong> 部署的时候</p><figure class="highlight taggerscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$ hexo d</span><br><span class="line">INFO  Deploying: git</span><br><span class="line">INFO  Clearing .deploy_git folder...</span><br><span class="line">INFO  Copying files from public folder...</span><br><span class="line">INFO  Copying files from extend dirs...</span><br><span class="line">fatal: LF would be replaced by CRLF in 2019/08/11/hello-world/index.html</span><br><span class="line">FATAL Something's wrong. Maybe you can find the solution here: https://hexo.io/docs/troubleshooting.html</span><br><span class="line">Error: Spawn failed</span><br><span class="line">    at ChildProcess.&lt;anonymous&gt; (D:<span class="symbol">\H</span>exoGithubPages<span class="symbol">\H</span>exoGP<span class="symbol">\n</span>ode_modules<span class="symbol">\h</span>exo-util<span class="symbol">\l</span>ib<span class="symbol">\s</span>pawn.js:52:19)</span><br><span class="line">    at ChildProcess.emit (events.js:198:13)</span><br><span class="line">    at ChildProcess.cp.emit (D:<span class="symbol">\H</span>exoGithubPages<span class="symbol">\H</span>exoGP<span class="symbol">\n</span>ode_modules<span class="symbol">\c</span>ross-spawn<span class="symbol">\l</span>ib<span class="symbol">\e</span>noent.js:40:29)</span><br><span class="line">    at Process.ChildProcess._handle.onexit (internal/child_process.js:248:12)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fatal: LF would be replaced by CRLF in index.html</span><br></pre></td></tr></table></figure><p>这时，需要在 <strong>HexoGP\.deploy_git\.git</strong> 目录下的config文件中添加 </p><figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">autocrlf</span> = <span class="literal">false</span></span><br><span class="line"><span class="attr">safecrlf</span> = <span class="literal">false</span></span><br></pre></td></tr></table></figure><p><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-13_190440.png" alt></p><h3 id="Hexo个性化配置"><a href="#Hexo个性化配置" class="headerlink" title="Hexo个性化配置"></a>Hexo个性化配置</h3><hr><h4 id="更换主题"><a href="#更换主题" class="headerlink" title="更换主题"></a>更换主题</h4><p>Hexo提供了很多<a href="https://hexo.io/themes/" target="_blank" rel="noopener">主题</a>，我在大概浏览了近200多个主题后使用的是<strong>Clover</strong>主题，相对来说十分简洁，当然更多的可能会选择<strong>NexT</strong>主题，这个主题后续也会学习使用</p><p>在HexoGP目录（即自己创建博客的文件夹）中打开Git Bash，输入如下，下载<strong>Clover</strong>主题到HexoGP目录中themes下的clover文件夹中</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">clone</span> <span class="title">https</span>://github.com/esappear/hexo-theme-clover themes/clover</span><br></pre></td></tr></table></figure><p><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-13_200005.png" alt></p><p>这是下载完成后<strong>clover</strong>文件夹下的内容，<strong>_config.yml</strong>就是主题配置文件</p><p>注意，若是下载<strong>NexT</strong>主题时，使用<strong>Clone with HTTPS</strong>下载到一半下载失败，实际上可能是因为项目太久，tag资源文件太大</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone http<span class="variable">s:</span>//github.<span class="keyword">com</span>/iissnan/hexo-theme-<span class="keyword">next</span> themes/<span class="keyword">next</span></span><br></pre></td></tr></table></figure><p>可以尝试将https地址换成ssh地址来clone，如下，这样就可以成功下载</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone git@github<span class="selector-class">.com</span>:iissnan/hexo-theme-next<span class="selector-class">.git</span> themes/next</span><br></pre></td></tr></table></figure><p>打开HexoGP文件夹下的_config.yml站点配置文件，将theme修改如下:</p><figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Extensions</span><br><span class="line">## Plugins: https:<span class="comment">//hexo.io/plugins/</span></span><br><span class="line">## Themes: https:<span class="comment">//hexo.io/themes/</span></span><br><span class="line">theme: clover</span><br></pre></td></tr></table></figure><p>再次部署网站，hexo g、hexo d，查看效果，就可以看到使用了<strong>Clover</strong>主题的页面</p><h4 id="基础使用"><a href="#基础使用" class="headerlink" title="基础使用"></a>基础使用</h4><p>由于使用的是<strong>Clover</strong>主图，参考<a href="https://github.com/esappear/hexo-theme-clover" target="_blank" rel="noopener">https://github.com/esappear/hexo-theme-clover</a></p><p>根据Readme上提示，还需 Add hexo-renderer-sass</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-renderer-sass <span class="comment">--save</span></span><br></pre></td></tr></table></figure><p><strong>Clover</strong>主题可以为文章添加概述以及图片等</p><p><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-13_193430.png" alt></p><p>以及添加新的页面</p><p><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-13_193444.png" alt></p><p>我们来新建一篇博文</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> <span class="string">"Python爬取视频指南"</span></span><br></pre></td></tr></table></figure><p>新建之后我们可以在HexoGP文件夹的source文件下的_posts文件夹下找到<strong>Python爬取视频指南.md</strong>，打开之后就可以用Markdown语法进行编辑</p><p><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-13_194329.png" alt></p><p><strong>tags</strong>表示这篇文章属于Python标签，<strong>categories</strong>表示属于Python分类，<strong>excerpt</strong>表示概述的内容，<strong>photos</strong>就是文章的封面图片了</p><p>这里需要注意的是，最开始处的，无论是<strong>title</strong>后面，还是<strong>excerpt</strong>后面跟的冒号，都<strong>必须是英文的冒号 : ，而且冒号后面必须添加一个空格</strong>，否则在生成部署时会报错</p><p>其他的配置等等主要是<strong>在站点配置文件中修改站点基本信息，如网站标题、副标题、网站描述、作者、网站头像外部链接、网站语言、时区等</strong>，以及<strong>Clover</strong>的主题配置文件中修改，另外再根据Readme中的描述就能初步完成，发表一篇博文啦</p><h4 id="使用图床"><a href="#使用图床" class="headerlink" title="使用图床"></a>使用图床</h4><p>图床，当博文中有图片时，若是少量图片，可以直接把图片存放在source文件夹中，但这显然不合理的，因为图片会占据大量的存储的空间，加载的时候相对缓慢 ，这时考虑把博文里的图片上传到某一网站，然后获得外部链接，使用Markdown语法完成图片的插入，这种网站就被成为图床</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">图片信息</span>](<span class="link">外部链接</span>)</span><br></pre></td></tr></table></figure><p>这里介绍<strong>七牛云</strong>的使用方法，还有<strong>又拍云</strong>等大家可以自己尝试，注册实名认证七牛云账号就不过多赘述，实际添加图片可以参考<a href="https://boke112.com/3870.html" target="_blank" rel="noopener">七牛云存储添加自定义域名和域名解析图文教程</a></p><p>这里主要看一下华为云如何<strong>自定义域名 CNAME 解析</strong>，进入华为云控制台，域名注册服务，进入域名解析，选择其中的一个域名，点击解析</p><p><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-13_201218.png" alt></p><p>点击添加记录集</p><p><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-13_1.png" alt></p><p>添加如下<br><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-13_2.png" alt></p><p>其中，类型选择 CNAME；主机记录：主域名前面的部分，如image.joelyings.com，这里的主机记录就是 image；值就是七牛云域名信息中 CNAME 的值 image.joelyings.com.qiniudns.com</p><p><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-13_3.png" alt></p><h3 id="完成基础版搭建"><a href="#完成基础版搭建" class="headerlink" title="完成基础版搭建"></a>完成基础版搭建</h3><hr><p>From <a href="https://joelying.github.io/">https://joelying.github.io/</a><br><img src="http://pw407zrf4.bkt.clouddn.com/2019-08-13_204402.png" alt></p><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><hr><p><a href="https://juejin.im/post/5b3ed1d4e51d45194e0b7884#heading-9" target="_blank" rel="noopener">Hexo+Github建站</a><br><a href="https://zhuanlan.zhihu.com/p/26625249" target="_blank" rel="noopener">GitHub+Hexo 搭建个人网站详细教程</a><br><a href="https://blog.csdn.net/dta0502/article/details/89607953" target="_blank" rel="noopener">Hexo建站教程</a><br><a href="https://www.jianshu.com/p/85192626faf3" target="_blank" rel="noopener">Github+Hexo一站式部署个人博客(原创)</a><br><a href="https://sspai.com/post/54608" target="_blank" rel="noopener">GitHub Pages 搭建教程</a><br><a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="noopener">Hexo文档</a><br><a href="https://www.cnblogs.com/wangyuehan/p/9864830.html" target="_blank" rel="noopener">error YAMLException: can not read a block mapping entry…</a><br><a href="https://www.cnblogs.com/zjfjava/p/10392150.html" target="_blank" rel="noopener">error git clone时报RPC failed; curl 18 transfer closed with outstanding read data remaining 错误</a><br><a href="https://www.jianshu.com/p/ddd1a39dcbc8" target="_blank" rel="noopener">git clone 报错：error: RPC failed; curl 18 transfer closed with outstanding read data remaining 解决办法</a><br><a href="https://www.cnblogs.com/mrluotong/p/10192492.html" target="_blank" rel="noopener">在git bash 中配置git用户名和邮箱及查看配置信息</a><br><a href="https://boke112.com/3870.html" target="_blank" rel="noopener">七牛云存储添加自定义域名和域名解析图文教程</a><br><a href="https://www.jianshu.com/p/ebed904d852d" target="_blank" rel="noopener">网站域名、备案、七牛云图床重新搭建与博客整理</a><br><a href="https://developer.qiniu.com/fusion/kb/5326/how-to-check-whether-the-configuration-is-successful" target="_blank" rel="noopener">如何验证域名已经配置成功–七牛云</a></p><h3 id="样本博客"><a href="#样本博客" class="headerlink" title="样本博客"></a>样本博客</h3><hr><p><a href="http://www.devzhao.com/post/1fd7a4a2.html" target="_blank" rel="noopener">hexo里面Markdown对图片进行居中、设置大小</a><br><a href="https://www.cnblogs.com/zjfjava/p/10392150.html" target="_blank" rel="noopener">看板娘</a><br><a href="https://juemuren4449.com/" target="_blank" rel="noopener">Halo博客</a><br><a href="https://leaferx.online/" target="_blank" rel="noopener">nexT-Muse</a></p>]]></content:encoded>
      
      <comments>https://joelying.github.io//blog/Hexo+Github%20Pages%E5%9F%BA%E7%A1%80%E7%89%88%E6%90%AD%E5%BB%BA%E6%94%BB%E7%95%A5.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Python爬取视频指南</title>
      <link>https://joelying.github.io//blog/Python%E7%88%AC%E5%8F%96%E8%A7%86%E9%A2%91%E6%8C%87%E5%8D%97.html</link>
      <guid>https://joelying.github.io//blog/Python%E7%88%AC%E5%8F%96%E8%A7%86%E9%A2%91%E6%8C%87%E5%8D%97.html</guid>
      <pubDate>Sun, 11 Aug 2019 12:20:49 GMT</pubDate>
      <description>
      
        &lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h2&gt;&lt;p&gt;前两天尔羽说让我爬一下菜鸟窝的教程视频，这次就跟大家来说说Python爬取视频的经验&lt;/p&gt;&lt;h2 id=&quot;正文&quot;&gt;&lt;a href=&quot;#正文&quot; class=&quot;headerlink&quot; title=&quot;正文&quot;&gt;&lt;/a&gt;正文&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://www.cniao5.com/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://www.cniao5.com/&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;&lt;p&gt;菜鸟窝上有很多教程视频，但是这些视频好像没有直接的下载地址，而且有些教程视频还是有期限的，那么问题就产生了&lt;br&gt;我看的速度比较慢而且视频又很多，没等我看完视频就到期了怎么办？这时候写一个爬虫将这些教程视频下载下来就很好地解决了这个问题&lt;/p&gt;
      
      </description>
      
      <content:encoded><![CDATA[<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>前两天尔羽说让我爬一下菜鸟窝的教程视频，这次就跟大家来说说Python爬取视频的经验</p><h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><blockquote><p><a href="https://www.cniao5.com/" target="_blank" rel="noopener">https://www.cniao5.com/</a></p></blockquote><p>菜鸟窝上有很多教程视频，但是这些视频好像没有直接的下载地址，而且有些教程视频还是有期限的，那么问题就产生了<br>我看的速度比较慢而且视频又很多，没等我看完视频就到期了怎么办？这时候写一个爬虫将这些教程视频下载下来就很好地解决了这个问题</p><a id="more"></a><p>当然，对于某些视频网站的VIP电影、视频之类的，一般情况下是无法在没有开通VIP的情况下用爬虫下载的，因为涉及到利益问题，同时数据传输也是加密的；想要看的话还是得开通会员再进行爬取</p><p>回到这次的目标上来，我们要爬取的是</p><blockquote><p><a href="https://www.cniao5.com/course/lessons/10153" target="_blank" rel="noopener">https://www.cniao5.com/course/lessons/10153</a></p></blockquote><p>上面的24章，共计202个教程视频</p><p><img src="https://upload-images.jianshu.io/upload_images/7933544-81acfbd1bf5fb955.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/550" alt="一"></p><p><img src="https://upload-images.jianshu.io/upload_images/7933544-457830aa7a70a7a2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/550" alt="二"></p><p>接下来我们来看看我们应该如何获取这些视频<br>首先我们看一下这个界面的源代码中没有关于课程视频的信息，那么我们点进去一个视频看看</p><p><img src="https://upload-images.jianshu.io/upload_images/7933544-b6ad2100d12234af.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/550" alt="三"></p><p>通过开发者工具我们可以看到左侧都是这次加载视频是动态加载的信息，我们一个个来看<br>首先是url，我们可以看到这个链接是 Post 方式请求的（然鹅实际上再通过postman测试可以知道，并不用带上什么参数请求，吓唬人呢…）<br><img src="https://upload-images.jianshu.io/upload_images/7933544-96f26cb53266b2d4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="四"></p><p><img src="https://upload-images.jianshu.io/upload_images/7933544-34783f8273006f7a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="五"><br>这就是url返回的数据，其中 hd 、shd 代表高清、超清的视频类型，而当你访问这个链接后会自动下载一个 m3u8 文件，这介绍一下</p><p>m3u8 文件是指UTF-8编码格式的M3U文件。M3U文件是记录了一个索引纯文本文件，打开它时播放软件并不是播放它，而是根据它的索引找到对应的音视频文件的网络地址进行在线播放</p><p><img src="https://upload-images.jianshu.io/upload_images/7933544-25a3a6abcb9adeae.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="六"></p><p><img src="https://upload-images.jianshu.io/upload_images/7933544-d9da39449cf3991f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="七"></p><p>而我们下载视频的方式就是通过向m3u8文件中的这些 .ts 的链接发送请求而下载一个个 ts视频流 （暂时这么称呼）</p><p>下一个就是 chapters ，这里呢则是包含了所有24章视频的一些基本信息</p><p><img src="https://upload-images.jianshu.io/upload_images/7933544-13f3d22781adde86.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/550" alt="八"></p><p><img src="https://upload-images.jianshu.io/upload_images/7933544-1083d797ed65e85c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/550" alt="九"></p><p>注意这里的 <strong>vid</strong> 参数，之后我们会用到<br><img src="https://upload-images.jianshu.io/upload_images/7933544-40bd11030e9a6478.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/550" alt="十"><br>这个就是网页上加载的m3u8 文件</p><p><img src="https://upload-images.jianshu.io/upload_images/7933544-a4e5ed14983368d4.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="十一"><br>这看似乱码的ts文件下载下来后就是一个几秒钟的视频了</p><p><img src="https://upload-images.jianshu.io/upload_images/7933544-6a18cf2c7a590636.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/550" alt="十二"><br>而我们最后要做的就是将这些 ts 文件合成为一个 mp4 文件</p><p><img src="https://upload-images.jianshu.io/upload_images/7933544-68bd241e007611bf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/550" alt="十三"></p><p><img src="https://upload-images.jianshu.io/upload_images/7933544-f640f26d5710fbaf.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="十四"></p><p>那么如何来操作呢？</p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>通过请求 chapters 的链接获取每一个章节中每一个lesson的播放 url 地址（就是返回中带有 hd 、shd的），取出并请求 hd 的链接，下载m3u8文件，匹配m3u8文件中的每一个 ts ，请求 ts 文件对应的链接并下载到本地，最后合成为一个mp4视频</p><p>来跟着代码看一下<br>首先小编是在本地先用代码创建好最终合成视频的存放的空文件夹以便访问<br><img src="https://upload-images.jianshu.io/upload_images/7933544-f651fccf5c4470e5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="十五"></p><p><img src="https://upload-images.jianshu.io/upload_images/7933544-980974f751b9a437.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="十六"></p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">def mkd():</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">25</span>):</span><br><span class="line">        finalpath = <span class="string">'D:\\Python\\PycharmProject\\FinalCniao5\\&#123;&#125;'</span>.<span class="built_in">format</span>(i)</span><br><span class="line">        # 判断路径文件是否存在，不存在则创建</span><br><span class="line">        f = <span class="built_in">os</span>.<span class="built_in">path</span>.exists(finalpath)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> f:</span><br><span class="line">            <span class="built_in">os</span>.makedirs(finalpath)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">'make file success...'</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">'file already exists...'</span>)</span><br></pre></td></tr></table></figure><p>接着创建对应章节的文件夹</p><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 防止 requests 开得太多</span><br><span class="line">s = requests.session()</span><br><span class="line">r_chapters = s.get(<span class="string">'https://www.cniao5.com/api/v1/course/10153/chapters'</span>)</span><br><span class="line">json_chapters = r_chapters.json()</span><br><span class="line"># <span class="built_in">print</span>(json_chapters)</span><br><span class="line"><span class="keyword">for</span> chapter <span class="keyword">in</span> json_chapters:</span><br><span class="line">    # 每一个章节</span><br><span class="line">    chapter_name = chapter[<span class="string">'bsort'</span>]</span><br><span class="line">    <span class="built_in">print</span>(chapter_name)</span><br><span class="line">    # 根据课程数创建对应的课程文件夹</span><br><span class="line">    path1 = self.file_path1.<span class="built_in">format</span>(chapter_name)  </span><br><span class="line">    f = <span class="built_in">os</span>.<span class="built_in">path</span>.exists(path1)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> f:</span><br><span class="line">        <span class="built_in">os</span>.makedirs(path1)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">'make file success...'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">'file already exists...'</span>)</span><br></pre></td></tr></table></figure><p>对章节中的每一个课程，获取其 id、key、file_id 创建对应的课程文件夹（用来保存ts文件）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> lessons <span class="keyword">in</span> chapter[<span class="string">'lessons'</span>]:</span><br><span class="line">    <span class="comment"># 章节下的每一个课程</span></span><br><span class="line">    lessons_name = <span class="string">'lessons'</span> + str(lessons[<span class="string">'bsort'</span>])</span><br><span class="line">    <span class="comment"># 获取其id</span></span><br><span class="line">    video_id = lessons[<span class="string">'video_info'</span>][<span class="string">'vid'</span>]</span><br><span class="line">    <span class="comment"># 获取 key</span></span><br><span class="line">    key = lessons[<span class="string">'key'</span>]</span><br><span class="line">    <span class="comment"># 后面用到</span></span><br><span class="line">    file_id = lessons[<span class="string">'video_info'</span>][<span class="string">'file_id'</span>]</span><br><span class="line">    <span class="built_in">print</span>(lessons_name, video_id)</span><br><span class="line">    <span class="comment"># 每个视频创建一个视频id的文件夹</span></span><br><span class="line">    path = <span class="string">'D:\\Python\\PycharmProject\\Cniao5\\&#123;&#125;\\&#123;&#125;'</span>.format(chapter_name, lessons_name)</span><br><span class="line">    f = os.path.exists(path)</span><br><span class="line">    <span class="comment"># 基于中断后，创建文件时判断，若存在该文件夹则跳过对该视频的下载，若不存在则继续</span></span><br></pre></td></tr></table></figure><p>对于之后则需要分为两种情况，我不知道菜鸟窝是怎么想的，你可以看到对于有的视频 vid 有具体的数值，有的则是 0<br><img src="https://upload-images.jianshu.io/upload_images/7933544-365a8610007abf59.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2019-01-02_225429.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/7933544-3eeb44cd38df7d3c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2019-01-02_225453.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/7933544-b489729d3e3be75f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="2019-01-02_225509.png"></p><p>也就是说对于 vid 有值的我们可以很容易构造 url 链接从而获取 m3u8 文件进而下载 ts 视频；但是对于没有的来说就麻烦了，我们不能直接构造这个 url 链接<br>而对于这一类视频则是这样的<br><img src="https://upload-images.jianshu.io/upload_images/7933544-489694665d973512.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/550" alt="2019-01-02_225808.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/7933544-adfaf2cc04561e6c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/550" alt="2019-01-02_225827.png"></p><p><img src="https://upload-images.jianshu.io/upload_images/7933544-9fd683c3e31e90ff.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/550" alt="2019-01-02_225904.png"></p><p>这类视频不是通过 m3u8 来处理视频的而是直接给了一个 mp4 的地址，那么也就是说对于 vid 为0的视频我们需要访问</p><blockquote><p><a href="https://playvideo.qcloud.com/getplayinfo/v2/1255567694/5285890782726972640" target="_blank" rel="noopener">https://playvideo.qcloud.com/getplayinfo/v2/1255567694/5285890782726972640</a></p></blockquote><p>才可以拿到这个视频，那么这个 url 中后面的两个参数是什么呢<br>这个 <figure class="highlight plain"><figcaption><span>``` 我们在上图中可以发现就是之前提到的 **file_id** 这也是我们为什么要获取的原因；而前面的``` 1255567694 ```你多看几个就知道这个是不变的</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">而当你去访问这个 MP4 的链接时菜鸟窝会告诉你，你没有权限请求这个链接，what？</span><br><span class="line">而这时候你要知道所谓爬虫就是模拟人对浏览器进行的操作而获取一定的结果，那么我们可以带上请求头来试试，小编是在用 fiddler 抓包后肯定了这一点，最后测试发现只要带上 header 中的 **referer** 就可以访问</span><br><span class="line"></span><br><span class="line">![2019-01-02_230702.png](https://upload-images.jianshu.io/upload_images/7933544-4c18c0c834d80ca0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/550)</span><br><span class="line"></span><br><span class="line">![2019-01-02_231030.png](https://upload-images.jianshu.io/upload_images/7933544-b8e3105bd624cf1b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/550)</span><br><span class="line"></span><br><span class="line">而这个 referer 也是有讲究的，这个后面跟的奇怪的参数正是上述中你们都快忘了的 **key** ，这个是每个 lesson 中都有的</span><br><span class="line"></span><br><span class="line">![](https://upload-images.jianshu.io/upload_images/7933544-5174a26b0e2b03dd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/550)</span><br><span class="line"></span><br><span class="line">![](https://upload-images.jianshu.io/upload_images/7933544-95f0421b423fd9b1.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/550)</span><br><span class="line"></span><br><span class="line">所以对于这种情况，之后只要把请求 MP4 链接后的内容以二进制方式保存就行</span><br><span class="line"></span><br><span class="line">此外还要注意对于 ts 文件，在请求时的前缀是</span><br><span class="line">``` https://vodi97egsxf.vod.126.net/vodi97egsxf/</span><br></pre></td></tr></table></figure></p><p><img src="https://upload-images.jianshu.io/upload_images/7933544-926ab4f70cfdd040.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/550" alt="2019-01-02_231639.png"></p><p>而在合并 ts 文件时，我用的是通过Python调用 windows 自带的合成的命令来合成，但是需要注意合成时候的文件名一定按 001，002，…，010，…，099，100…如此排列；而如果按 1，2，3，…，10，11，…，99，100 则合并不会成功</p><p>所以在保存时就应该注意指定文件的名称即可</p><p>好了看到这里相信你应该有了一个基本的认识了，需要完整源码的也可以联系小编</p>]]></content:encoded>
      
      <comments>https://joelying.github.io//blog/Python%E7%88%AC%E5%8F%96%E8%A7%86%E9%A2%91%E6%8C%87%E5%8D%97.html#disqus_thread</comments>
    </item>
    
  </channel>
</rss>
