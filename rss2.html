<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>JoelYing</title>
    <link>https://joelying.github.io/</link>
    <atom:link href="/rss2.html" rel="self" type="application/rss+xml"/>
    
    <description>半个兴趣使然的程序员</description>
    <pubDate>Sat, 12 Oct 2019 11:17:43 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>Python3爬取新版喜马拉雅音频</title>
      <link>https://joelying.github.io//blog/Python3%E7%88%AC%E5%8F%96%E6%96%B0%E7%89%88%E5%96%9C%E9%A9%AC%E6%8B%89%E9%9B%85%E9%9F%B3%E9%A2%91.html</link>
      <guid>https://joelying.github.io//blog/Python3%E7%88%AC%E5%8F%96%E6%96%B0%E7%89%88%E5%96%9C%E9%A9%AC%E6%8B%89%E9%9B%85%E9%9F%B3%E9%A2%91.html</guid>
      <pubDate>Mon, 23 Sep 2019 05:19:24 GMT</pubDate>
      <description>
      
        我喝过很烈的酒，也放过不该放的手，从前不会回头，往后不会将就
      
      </description>
      
      <content:encoded><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><!-- build time:Tue Oct 15 2019 14:38:18 GMT+0800 (GMT+08:00) --><img class="joel-img" src="http://image.joelyings.com/20190923-24.jpg"><a id="more"></a><h2 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h2><p id="div-border-left-red">2019-10-12 19:10</p><p><a href="https://blog.csdn.net/weixin_42050513/article/details/101224552" target="_blank" rel="noopener">CSDN</a>上有人评论说<code>xm-sign</code>规则改了，于是去看了看，发现实际只改了一个字母，整体流程任可以看下方正文</p><p>把<code>hashlib.md5(&quot;ximalaya-{}&quot;.format(servertime).encode()</code>中的<code>ximalaya</code>替换成<code>himalaya</code>即可</p><p>改动点如下图</p><p><img src="http://image.joelyings.com/20191012-1.png" alt></p><p><img src="http://image.joelyings.com/20191012-2.png" alt></p><p>改动不大，可能是发现了有人在大量爬取，先小地方改动，随后可能会有较大的规则改动，教程写出来的目的是学习、测试，切勿过度爬取！</p><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>应该也有一年了吧，之前也在<a href="https://www.jianshu.com/p/f533ffb85e70" target="_blank" rel="noopener">简书</a>，<a href="https://blog.csdn.net/weixin_42050513/article/details/80771860" target="_blank" rel="noopener">CSDN</a>上写过爬取喜马拉雅音频的文章，经历了一次喜马拉雅的改版，同时也更新了一波代码</p><p>最近为了喜欢的<code>雪中悍刀行</code>，回去重新打算跑一下代码下载音频，这一跑不要紧，结果就发现喜马拉雅又改版了</p><p>得，又得重新写代码，且这次还加了JS反爬的手段，让我也好好学习了一把，嗯，下面进入正题</p><h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><h3 id="初步分析"><a href="#初步分析" class="headerlink" title="初步分析"></a>初步分析</h3><p>老样子，首先来看看我们要爬取的目标<code>https://www.ximalaya.com/youshengshu/2684034/</code></p><p><img src="http://image.joelyings.com/20190923-1.png" alt></p><p><img src="http://image.joelyings.com/20190923-2.png" alt></p><p>像这样的882个音频，共计30页，每页一般标准的有30个，最后要将这882个音频保存到本地，那么我们最需要的是找到音频的源播放地址，我们不妨打开一个音频来看看，同时按F12打开开发者工具</p><p>首先我看了看<code>https://www.ximalaya.com/youshengshu/2684034/2725352</code>的网页源代码中，并没有相关的播放地址，所以我开始在开发者工具中找</p><p><img src="http://image.joelyings.com/20190923-3.png" alt></p><p>页面刷新完之后的XHR中我没有找到明显的播放地址，然后我点了一下页面的播放按钮，之后XHR又跳出来好几条信息，随后我找到了</p><p><img src="http://image.joelyings.com/20190923-4.png" alt></p><p>可以看到，<code>src</code>对应的<code>m4a</code>链接就是音频的源播放地址，我们只要拿到这个链接就行了</p><p><img src="http://image.joelyings.com/20190923-5.png" alt></p><p>那么我们接下来就应该要访问上面这个链接，从而拿到音频的播放地址，但是当我们复制链接后去打开时会发现</p><p><img src="http://image.joelyings.com/20190923-6.png" alt></p><p><code>[SIGN] no sign or wrong sign</code>，是的，你很大几率会看到这个，没有sign或错误的sign，那么也就是说这个链接是打不开的？那么带上请求头试试？后来我用postman访问这个链接，带上请求头后还是没有得到结果，然后想了想，返回给我们的提示是<code>sign</code></p><p>正好请求头中就有这个<code>xm-sign</code>，于是我重新试了一下，只带上这个<code>xm-sign</code>去访问，发现在一次尝试中拿到了之前看到的带有播放链接的<code>response</code></p><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xm-sign: dcf3736db17584cb0b7260c1fcb1f05f(<span class="number">45</span>)<span class="number">1569231095030</span>(<span class="number">64</span>)<span class="number">1569231094006</span></span><br></pre></td></tr></table></figure><p>那么下一步要解决的就是如何获得这个<code>xm-sign</code></p><h3 id="进阶分析"><a href="#进阶分析" class="headerlink" title="进阶分析"></a>进阶分析</h3><p><code>xm-sign</code>并不在XHR中能够找到，所以我下一步的目标是在JS文件中找</p><p><img src="http://image.joelyings.com/20190923-7.png" alt></p><p>找啊找，终于在上面的js文件中，找到了点头绪，出现了同样的<code>xm-sign</code>，这个过程对我来说是比较漫长的，因为需要在js文件中一个个的浏览过去，当然你通过fiddler抓包去找也是差不多的</p><p>然后为了明确知道<code>xm-sign</code>是怎么来的，我们就需要对这个js文件进行打断点调试，在控制台的<code>Source</code>中打开该Js文件</p><p><img src="http://image.joelyings.com/20190923-8.png" alt></p><p>右键该JS文件，点击<code>Open in Sources panel</code>，或者鼠标轻放在该文件上，会出现该文件的路径，到控制台<code>Source</code>中找到它</p><p><img src="http://image.joelyings.com/20190923-9.png" alt></p><p>找到该文件后点击打开，然后点击下方的<code>花括号</code>按钮，美化代码，再按<code>ctrl + f</code>搜索<code>xm-sign</code>，就可以定位到<code>xm-sign</code></p><p><img src="http://image.joelyings.com/20190923-10.png" alt></p><p>我们需要知道对应<code>xm-sign</code>的值<code>t</code>到底是怎么样的，接着在<code>return e</code>上打上断点，这样一来，当页面刷新运行到这里的时候会自动停止之后的JS代码，可以让我们来进行调试，如何通过Chrome调试可以参考<a href="https://www.jianshu.com/p/1ca8db74c526" target="_blank" rel="noopener">这篇文章</a></p><p>打好断点后，刷新页面，等待一会，不用动别的，然后就可以看到下图</p><p><img src="http://image.joelyings.com/20190923-11.png" alt></p><p>图中所示的<code>xm-sign</code>的值就是<code>t</code>的值，再往上一点，<code>t</code>的值就是由<code>o.default</code>产生的</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">n.interceptors.request.use(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (e.url.indexOf(<span class="string">"/revision"</span>) &gt; <span class="number">-1</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> t = (<span class="number">0</span>,</span><br><span class="line">            o.default)();  <span class="comment">//  然后点击 o.default 进入该方法中 </span></span><br><span class="line">            e.headers = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">var</span> t = <span class="number">1</span>; t &lt; <span class="built_in">arguments</span>.length; t++) &#123;</span><br><span class="line">                    <span class="keyword">var</span> r = <span class="literal">null</span> != <span class="built_in">arguments</span>[t] ? <span class="built_in">arguments</span>[t] : &#123;&#125;;</span><br><span class="line">                    t % <span class="number">2</span> ? i(r, !<span class="number">0</span>).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">t</span>) </span>&#123;</span><br><span class="line">                        u(e, t, r[t])</span><br><span class="line">                    &#125;) : <span class="built_in">Object</span>.getOwnPropertyDescriptors ? <span class="built_in">Object</span>.defineProperties(e, <span class="built_in">Object</span>.getOwnPropertyDescriptors(r)) : i(r).forEach(<span class="function"><span class="keyword">function</span>(<span class="params">t</span>) </span>&#123;</span><br><span class="line">                        <span class="built_in">Object</span>.defineProperty(e, t, <span class="built_in">Object</span>.getOwnPropertyDescriptor(r, t))</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> e</span><br><span class="line">            &#125;(&#123;&#125;, e.headers, &#123;</span><br><span class="line">                <span class="string">"xm-sign"</span>: t</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> e</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><p>接着我们点击<code>o.default</code>这个方法，进去看看这一串值到底如何生成，鼠标放在<code>o.default</code>上，点击出现的<code>anonymous</code>方法</p><p><img src="http://image.joelyings.com/20190923-12.png" alt></p><p>我们就自动跳转到了下一个JS文件，同样格式化后我们就看到了下图所示的<code>function</code>部分</p><p><img src="http://image.joelyings.com/20190923-13.png" alt></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">t</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> e = <span class="built_in">Date</span>.now();  <span class="comment">// 当前时间戳</span></span><br><span class="line">        <span class="keyword">return</span> (<span class="string">"&#123;ximalaya-"</span> + t + <span class="string">"&#125;("</span> + Le(<span class="number">100</span>) + <span class="string">")"</span> + t + <span class="string">"("</span> + Le(<span class="number">100</span>) + <span class="string">")"</span> + e).replace(<span class="regexp">/&#123;([\w-]+)&#125;/</span>, <span class="function"><span class="keyword">function</span>(<span class="params">t, e</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> Ue(e)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;(Ne() ? <span class="built_in">Date</span>.now() : <span class="built_in">window</span>.XM_SERVER_CLOCK || <span class="number">0</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这个方法最终返回的就是我们的<code>xm-sign</code>的值，而<code>return</code>部分就是</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="string">"&#123;ximalaya-"</span> + t + <span class="string">"&#125;("</span> + Le(<span class="number">100</span>) + <span class="string">")"</span> + t + <span class="string">"("</span> + Le(<span class="number">100</span>) + <span class="string">")"</span> + e).replace(<span class="regexp">/&#123;([\w-]+)&#125;/</span>, <span class="function"><span class="keyword">function</span>(<span class="params">t, e</span>) </span>&#123;<span class="keyword">return</span> Ue(e)&#125;</span><br></pre></td></tr></table></figure><p>取消之前的断点，我们可以在下图中再打断点，再刷新页面，等待，调试</p><p><img src="http://image.joelyings.com/20190923-14.png" alt></p><p>可以看到</p><p><img src="http://image.joelyings.com/20190923-15.png" alt></p><p>这里面<code>t</code>就是时间戳，这个我们可以在前面的找到对应的服务器时间戳，请求这个即可<code>https://www.ximalaya.com/revision/time</code></p><p><code>Le(100)</code>是上面的一个函数，能生产100以内的随机数，如下，<code>e</code>就是当前的时间戳</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Le</span>(<span class="params">t</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> ~~(<span class="built_in">Math</span>.random() * t)  </span><br><span class="line">    <span class="comment">// ~~ 代表双非按位取反运算符，对于正数，它向下取整；对于负数，向上取整；非数字取值为0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>replace(/{([\w-]+)}/, function(t, e) {return Ue(e)}</code>，replace就是把<code>{ximalaya-&quot; + t + &quot;}</code>部分替换成<code>Ue(e)</code>的值</p><p>我们接着看<code>Ue()</code>，同样鼠标放在<code>Ue</code>上，点击出现的<code>anonymous(t, n)</code>方法</p><p><img src="http://image.joelyings.com/20190923-16.png" alt></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">t.exports = <span class="function"><span class="keyword">function</span>(<span class="params">t, n</span>) </span>&#123;</span><br><span class="line">               <span class="keyword">if</span> (<span class="literal">null</span> == t)</span><br><span class="line">                   <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">"Illegal argument "</span> + t);</span><br><span class="line">               <span class="keyword">var</span> r = e.wordsToBytes(i(t, n));</span><br><span class="line">               <span class="comment">// 以下就是返回的值</span></span><br><span class="line">               <span class="keyword">return</span> n &amp;&amp; n.asBytes ? r : n &amp;&amp; n.asString ? o.bytesToString(r) : e.bytesToHex(r)</span><br><span class="line">           &#125;</span><br></pre></td></tr></table></figure><p>我们在这里也可以打个断点看看返回的是什么，并且右键编辑断点时要打印的数据，我在这里就设置在控制台打印当前返回的内容</p><p><img src="http://image.joelyings.com/20190923-17.png" alt></p><p><img src="http://image.joelyings.com/20190923-18.png" alt></p><p><img src="http://image.joelyings.com/20190923-19.png" alt></p><p>然后这个箭头就会变橙色，我们取消其他的断点，再次刷新页面，等待一会，调试</p><p><img src="http://image.joelyings.com/20190923-20.png" alt></p><p>可以看到<code>t = &quot;ximalaya-1569237828683&quot;, n = undefined</code>，并且控制台打印有<code>15de4b221c3cb112d4d8200ccf094a8e</code>这样的一串字符</p><p><img src="http://image.joelyings.com/20190923-21.png" alt></p><p>根据经验猜测这可能是md5码，于是我们尝试使用在线转换工具，将<code>ximalaya-1569237828683</code>转换为MD5编码格式的内容，结果如下</p><p><img src="http://image.joelyings.com/20190923-22.png" alt></p><p>结果正确，现在我们可以得出结论，参数<code>xm-sign</code>的值其实就是</p><p><span id="inline-purple">MD5(ximalaya-服务器时间戳) + (100以内的随机数) + 服务器时间戳 + (100以内的随机数) + 现在的时间戳</span></p><h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h2><p>解决了上面的JS反爬问题，我们来看看实际代码，这是主要的爬取起始部分</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 传入专辑的ID，xm_fm_id</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_fm</span><span class="params">(self, xm_fm_id)</span>:</span></span><br><span class="line">    <span class="comment"># 根据有声书ID构造url</span></span><br><span class="line">    fm_url = self.base_url + <span class="string">'/youshengshu/&#123;&#125;'</span>.format(xm_fm_id)</span><br><span class="line">    print(fm_url)</span><br><span class="line">    r_fm_url = self.s.get(fm_url, headers=self.header)</span><br><span class="line">    <span class="comment"># 获取书名</span></span><br><span class="line">    fm_title = re.findall(<span class="string">'&lt;h1 class="title _leU"&gt;(.*?)&lt;/h1&gt;'</span>, r_fm_url.text, re.S)[<span class="number">0</span>]</span><br><span class="line">    print(<span class="string">'书名：'</span> + fm_title)</span><br><span class="line">    <span class="comment"># 新建有声书ID的文件夹</span></span><br><span class="line">    fm_path = self.make_dir(xm_fm_id)</span><br><span class="line">    <span class="comment"># 取最大页数</span></span><br><span class="line">    max_page = re.findall(<span class="string">r'&lt;input type="number" placeholder="请输入页码" step="1" min="1" '</span></span><br><span class="line">                          <span class="string">r'max="(\d+)" class="control-input _bfuk" value=""/&gt;'</span>, r_fm_url.text, re.S)</span><br><span class="line">    <span class="keyword">if</span> max_page <span class="keyword">and</span> max_page[<span class="number">0</span>]:</span><br><span class="line">        <span class="keyword">for</span> page <span class="keyword">in</span> range(<span class="number">1</span>, int(max_page[<span class="number">0</span>]) + <span class="number">1</span>):</span><br><span class="line">            print(<span class="string">'第'</span> + str(page) + <span class="string">'页'</span>)</span><br><span class="line">            <span class="comment"># 获取当前时间对应的 xm-sign 添加到请求头中</span></span><br><span class="line">            self.get_sign()</span><br><span class="line">            <span class="comment"># 访问链接</span></span><br><span class="line">            r = self.s.get(self.base_api.format(xm_fm_id, page), headers=self.header)</span><br><span class="line">            <span class="comment"># print(json.loads(r.text))</span></span><br><span class="line">            r_json = json.loads(r.text)</span><br><span class="line">            <span class="keyword">for</span> audio <span class="keyword">in</span> r_json[<span class="string">'data'</span>][<span class="string">'tracksAudioPlay'</span>]:</span><br><span class="line">            <span class="comment"># 获取json中的每个音频的标题以及播放源地址</span></span><br><span class="line">                audio_title = str(audio[<span class="string">'trackName'</span>]).replace(<span class="string">' '</span>, <span class="string">''</span>)</span><br><span class="line">                audio_src = audio[<span class="string">'src'</span>]</span><br><span class="line">                <span class="comment"># 交给下载的方法</span></span><br><span class="line">                self.get_detail(audio_title, audio_src, fm_path)</span><br><span class="line">            <span class="comment"># 每爬取1页，30个音频，休眠3秒</span></span><br><span class="line">            time.sleep(<span class="number">3</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(os.error)</span><br></pre></td></tr></table></figure><p>这是构造<code>xm-sign</code>的方法，用到了Python的<code>hashlib</code>包</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">    self.base_url = <span class="string">'https://www.ximalaya.com'</span></span><br><span class="line">    self.base_api = <span class="string">'https://www.ximalaya.com/revision/play/album?albumId=&#123;&#125;&amp;pageNum=&#123;&#125;&amp;sort=0&amp;pageSize=30'</span></span><br><span class="line">    self.time_api = <span class="string">'https://www.ximalaya.com/revision/time'</span></span><br><span class="line">    self.header = &#123;</span><br><span class="line">        <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (X11; Ubuntu; Linux x86_64; rv:63.0) Gecko/20100101 Firefox/63.0'</span></span><br><span class="line">    &#125;</span><br><span class="line">    self.s = requests.session()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_time</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    获取服务器时间戳</span></span><br><span class="line"><span class="string">    :return:</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    r = self.s.get(self.time_api, headers=self.header)</span><br><span class="line">    <span class="keyword">return</span> r.text</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_sign</span><span class="params">(self)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    获取sign： md5(ximalaya-服务器时间戳)(100以内随机数)服务器时间戳(100以内随机数)现在时间戳</span></span><br><span class="line"><span class="string">    :return: xm_sign</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    nowtime = str(round(time.time() * <span class="number">1000</span>))</span><br><span class="line">    <span class="comment"># 得到服务器时间戳</span></span><br><span class="line">    servertime = self.get_time()</span><br><span class="line">    <span class="comment"># 构造 xm-sign</span></span><br><span class="line">    sign = str(hashlib.md5(<span class="string">"ximalaya-&#123;&#125;"</span>.format(servertime).encode()).hexdigest()) + <span class="string">"(&#123;&#125;)"</span>.format(</span><br><span class="line">        str(round(random.random() * <span class="number">100</span>))) + servertime + <span class="string">"(&#123;&#125;)"</span>.format(str(round(random.random() * <span class="number">100</span>))) + nowtime</span><br><span class="line">    <span class="comment"># 添加到请求头</span></span><br><span class="line">    self.header[<span class="string">"xm-sign"</span>] = sign</span><br><span class="line">    <span class="comment"># print(sign)</span></span><br><span class="line">    <span class="comment"># return sign</span></span><br></pre></td></tr></table></figure><p>这是保存音频的部分</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_detail</span><span class="params">(self, title, src, path)</span>:</span></span><br><span class="line"><span class="comment"># 请求源地址的链接，得到response</span></span><br><span class="line">    r_audio_src = self.s.get(src, headers=self.header)</span><br><span class="line">    <span class="comment"># 构造保存路径</span></span><br><span class="line">    m4a_path = path + title + <span class="string">'.m4a'</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(m4a_path):</span><br><span class="line">        <span class="keyword">with</span> open(m4a_path, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="comment"># 写入</span></span><br><span class="line">            f.write(r_audio_src.content)</span><br><span class="line">            print(title + <span class="string">'保存完毕...'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(title + <span class="string">'m4a已存在'</span>)</span><br></pre></td></tr></table></figure><h2 id="成果"><a href="#成果" class="headerlink" title="成果"></a>成果</h2><p><img src="http://image.joelyings.com/20190923-23.png" alt></p><h2 id="后续"><a href="#后续" class="headerlink" title="后续"></a>后续</h2><p>当然这只是喜马拉雅非付费的音频专辑，如果是付费后的专辑则需要另一套更加复杂的JS破解方法，我搞了半天，先拿手机抓包试了试，到最后发现还是得破解如何构造最后的下载地址</p><p>网上也有那种软件，这个就不多说了</p><p>需要代码的可以去我的GitHub，<a href="https://github.com/joelYing/XimalayaFM/blob/master/ximalaya_search_new.py" target="_blank" rel="noopener">传送门</a></p><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://blog.csdn.net/steadyhzc/article/details/99708520" target="_blank" rel="noopener">python模拟喜马拉雅js，全过程突破xm-sign，轻松爬取音频数据</a><br><a href="https://blog.csdn.net/travel_Capsule/article/details/90312545" target="_blank" rel="noopener">python爬取喜马拉雅音频，突破xm-sign校验反爬（爬虫）</a><br><a href="http://www.likecs.com/show-65535.html" target="_blank" rel="noopener">爬虫之突破xm-sign校验反爬</a><br><a href="https://github.com/smallmuou/xmlyfetcher" target="_blank" rel="noopener">喜马拉雅音频下载工具</a><br><a href="https://www.jianshu.com/p/1ca8db74c526" target="_blank" rel="noopener">Chrome 开发者工具代码行断点调试</a><br><a href="http://www.fly63.com/article/detial/2802" target="_blank" rel="noopener">js中~~和 | 的妙用</a></p><!-- rebuild by neat -->]]></content:encoded>
      
      <comments>https://joelying.github.io//blog/Python3%E7%88%AC%E5%8F%96%E6%96%B0%E7%89%88%E5%96%9C%E9%A9%AC%E6%8B%89%E9%9B%85%E9%9F%B3%E9%A2%91.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>快速搭建免费视频网站记录</title>
      <link>https://joelying.github.io//blog/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E5%85%8D%E8%B4%B9%E8%A7%86%E9%A2%91%E7%BD%91%E7%AB%99%E8%AE%B0%E5%BD%95.html</link>
      <guid>https://joelying.github.io//blog/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E5%85%8D%E8%B4%B9%E8%A7%86%E9%A2%91%E7%BD%91%E7%AB%99%E8%AE%B0%E5%BD%95.html</guid>
      <pubDate>Mon, 16 Sep 2019 01:43:48 GMT</pubDate>
      <description>
      
        且将新火试新茶，诗酒趁年华
      
      </description>
      
      <content:encoded><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><!-- build time:Tue Oct 15 2019 14:38:18 GMT+0800 (GMT+08:00) --><img class="joel-img" src="http://image.joelyings.com/20190916-35.jpg"><a id="more"></a><h3 id="记录"><a href="#记录" class="headerlink" title="记录"></a>记录</h3><p>主要是根据<a href="https://www.52pojie.cn/thread-811082-1-1.html" target="_blank" rel="noopener">10分钟搭建属于自己的视频网站 海洋cms视频网站搭建超详细教程 零基础的看过来</a>这一篇教程来做的，花了一天的功夫，从零到能在线播放视频，啧啧啧~</p><h4 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h4><p>这次记录过程中主要用到的工具有：<strong>海洋cms</strong>，<strong>悍铭数据中心服务器</strong>，<strong>Xshell</strong>或者是<strong>WinSCP</strong>，在下面的过程中配合步骤讲解</p><h4 id="服务器"><a href="#服务器" class="headerlink" title="服务器"></a>服务器</h4><p>腾讯云、阿里云、网上也有免费空间等等都可以，这里用的是免备案的，能省下很多麻烦</p><p><a href="https://www.host199.com/freehost" target="_blank" rel="noopener">悍铭福利空间</a>，我是基于这个做的，花了12元购买的一年的，注册完充值购买即可使用</p><p><img src="http://image.joelyings.com/20190916-1.png" alt></p><p>这个虚拟主机最近不稳定，不建议大家购买，虽然便宜，但是一般，适合练手，如果你有一点点的基础，建议买阿里百度腾讯等等的服务器</p><h4 id="买域名并解析到服务器"><a href="#买域名并解析到服务器" class="headerlink" title="买域名并解析到服务器"></a>买域名并解析到服务器</h4><p>在阿里腾讯百度云上购买域名，用来解析到服务器，这一步需要的话就上对应的服务器商找参考教程，如果购买了悍铭的服务器不买域名也行，它自带的分配了一个，凑活用</p><h4 id="上传程序"><a href="#上传程序" class="headerlink" title="上传程序"></a>上传程序</h4><p>首先下载海洋CMS到你的电脑上，<strong>海洋cms</strong>是一套可以快速建站的cms工具，类似的还有苹果cms等，<a href="https://www.seacms.net/" target="_blank" rel="noopener">下载地址</a></p><p><img src="http://image.joelyings.com/20190916-2.png" alt></p><p><img src="http://image.joelyings.com/20190916-3.png" alt></p><p>下载之后将压缩包放到任意文件夹下</p><ol><li>解压</li><li>打开解压后的文件夹</li><li>选中upload文件夹<span id="inline-red">里面的</span>所有文件和文件夹</li><li>压缩为rar文件</li><li>重命名为”1.rar”</li></ol><p>电脑安装FTP软件（WinSCP）自行百度下载并安装<a href="https://winscp.net/eng/download.php" target="_blank" rel="noopener">WinSCP</a>，或者使用Xshell</p><p>打开刚安装的WinSCP，看下图，在虚拟主机服务商那里找到相应信息</p><p><img src="http://image.joelyings.com/20190916-4.png" alt></p><p>将相应信息填写到软件里，点击登陆，注意使用的是FTP协议</p><p><img src="http://image.joelyings.com/20190916-5.png" alt></p><p>将<strong>“1.rar”</strong>上传到<code>/db</code>文件夹中</p><p><img src="http://image.joelyings.com/20190916-6.png" alt></p><p>去/web文件夹里，把里面的文件全部清空，下面在浏览器里打开虚拟主机管理界面</p><p>点击在线解压</p><p><img src="http://image.joelyings.com/20190916-7.png" alt></p><p><img src="http://image.joelyings.com/20190916-8.png" alt></p><p>等待几分钟，等待解压完成，解压完空间里是这个样子的</p><p><img src="http://image.joelyings.com/20190916-9.png" alt></p><p>如果是下图这样，请面壁思过</p><p><img src="http://image.joelyings.com/20190916-10.png" alt></p><p>注意：有可能过了十几分钟在WinSCP还是没有看到解压的文件，那么只好手动将<strong>upload文件夹下的全部的文件</strong>上传到<code>/web</code>下</p><p>在这里找到相应的信息</p><p><img src="http://image.joelyings.com/20190916-11.png" alt></p><p><img src="http://image.joelyings.com/20190916-12.png" alt></p><p>打开浏览器，访问下面的网址，<code>http://你的域名/install/index.php</code></p><p>如下图所示</p><p><img src="http://image.joelyings.com/20190916-13.jpg" alt></p><p>看上图，查看对应关系，填写相应信息，用户名、密码、网站名称、网站网址、安装目录按需填写，若看不懂就不用管，保持默认，点击下一步，下一步，下一步</p><p>成功后，下面打开FTP软件（WinSCP），把红色框内的文件夹名字改为 qwe（或者别的字母），注意最新版本的海洋CMS会自动改名，也就是说你的admin文件会自动改为成功时出现的后台地址中的文件名部分</p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">首页地址：<span class="string">http:</span><span class="comment">//你的域名</span></span><br><span class="line">后台地址：<span class="string">http:</span><span class="comment">//你的域名/&#123;文件名&#125;</span></span><br><span class="line">用户名：xxx</span><br><span class="line">密　码：xxx</span><br></pre></td></tr></table></figure><p><img src="http://image.joelyings.com/20190916-14.png" alt></p><p>打开你的后台网址，输入用户名密码，下面看图操作</p><p><img src="http://image.joelyings.com/20190916-15.png" alt></p><p>按照下图配置播放器设置，删除缓冲广告页，广告时间改为0，解析接口配置中全部清空，其余不变</p><p><img src="http://image.joelyings.com/20190916-16.png" alt></p><p>至此网站搭建完毕，下一步就是资源的采集</p><h4 id="资源采集"><a href="#资源采集" class="headerlink" title="资源采集"></a>资源采集</h4><p>百度一下 “资源采集”，这些网站都是免费资源采集站</p><p><img src="http://image.joelyings.com/20190916-17.png" alt></p><p>我们以永久资源网<a href="http://yongjiuzy.vip/help/#SeaCms" target="_blank" rel="noopener">http://yongjiuzy.vip/help/#SeaCms</a>为例</p><p>打开上面网址，看图操作，看下面两张图就足够了</p><p><img src="http://image.joelyings.com/20190916-18.png" alt="添加资源库"></p><p><img src="http://image.joelyings.com/20190916-19.png" alt="添加对应的播放器"></p><p>一般一个资源采集站有两个播放器，具体的也可以参考<a href="http://yongjiuzy.vip/help/#SeaCms" target="_blank" rel="noopener">这里</a></p><p>打开资源采集站，点击箭头所指部分</p><p><img src="http://image.joelyings.com/20190916-20.png" alt></p><p>下载一个压缩包到桌面上，解压出两个<code>.html</code>文件，一般一个资源采集站有两个播放器</p><p>打开FTP软件（WinSCP），将解压出的两个<code>.html</code>文件上传到<code>/web/js/player</code>目录</p><p><img src="http://image.joelyings.com/20190916-21.png" alt></p><p>下面看图操作</p><p><img src="http://image.joelyings.com/20190916-22.png" alt></p><p><img src="http://image.joelyings.com/20190916-23.png" alt></p><p>分类绑定，点击未绑定字样，在弹出的菜单中下拉选择对应的分类，没有就空着，别乱绑，下面开始一键采集，采集过后点击更新缓存</p><p><img src="http://image.joelyings.com/20190916-24.png" alt></p><p>完成后就可以在网站上点击播放视频啦</p><h4 id="其他问题"><a href="#其他问题" class="headerlink" title="其他问题"></a>其他问题</h4><h5 id="自定义分类绑定项"><a href="#自定义分类绑定项" class="headerlink" title="自定义分类绑定项"></a>自定义分类绑定项</h5><p>网站后台-数据-分类管理-添加一个你想要的分类，绑定时就会有对应的分类了</p><h5 id="手机播放有广告"><a href="#手机播放有广告" class="headerlink" title="手机播放有广告"></a>手机播放有广告</h5><p>清空红框内数据，广告时间改为0</p><p><img src="http://image.joelyings.com/20190916-25.png" alt></p><h5 id="无权限观看相关视频"><a href="#无权限观看相关视频" class="headerlink" title="无权限观看相关视频"></a>无权限观看相关视频</h5><p>解决办法1：网站后台-用户组管理-匿名用户（普通会员）-编辑-勾选无权限查看的分类-保存<br>解决办法2：网站后台-系统-网站设置-会员系统开关-关闭会员功能</p><h5 id="首页没有幻灯片"><a href="#首页没有幻灯片" class="headerlink" title="首页没有幻灯片"></a>首页没有幻灯片</h5><p>网站后台 - 数据 - 数据管理 - 编辑<br>将影片设置五星推荐 上首页幻灯片<br>将影片设置四星推荐 上频道幻灯片<br>网上搜索影片海报图片，复制图片的地址，填写到数据里，看下图，然后点击保存</p><p><img src="http://image.joelyings.com/20190916-26.png" alt></p><p><img src="http://image.joelyings.com/20190916-27.png" alt></p><h5 id="只有一条播放线路"><a href="#只有一条播放线路" class="headerlink" title="只有一条播放线路"></a>只有一条播放线路</h5><p>解决办法：添加多个资源库</p><h5 id="批量删除数据"><a href="#批量删除数据" class="headerlink" title="批量删除数据"></a>批量删除数据</h5><p><img src="http://image.joelyings.com/20190916-28.png" alt></p><p><img src="http://image.joelyings.com/20190916-29.png" alt></p><h5 id="自己购买的域名解析并绑定后无法打开"><a href="#自己购买的域名解析并绑定后无法打开" class="headerlink" title="自己购买的域名解析并绑定后无法打开"></a>自己购买的域名解析并绑定后无法打开</h5><p>可能是你设置的解析方式不对，仔细看下图中的红字</p><p><img src="http://image.joelyings.com/20190916-30.png" alt></p><p>具体解决方法看下图，注意两图不同之处</p><p><img src="http://image.joelyings.com/20190916-31.png" alt></p><p><img src="http://image.joelyings.com/20190916-32.png" alt></p><h5 id="网站打开后如下图所示"><a href="#网站打开后如下图所示" class="headerlink" title="网站打开后如下图所示"></a>网站打开后如下图所示</h5><p><img src="http://image.joelyings.com/20190916-33.png" alt></p><p>原因：解压之前没有清空/web文件夹里的文件<br>解决办法1：去/web文件夹里，把里面的文件全部清空，重新安装<br>解决办法2：看图操作</p><p><img src="http://image.joelyings.com/20190916-34.png" alt></p><p>将index.php移动到前面</p><h3 id="资源"><a href="#资源" class="headerlink" title="资源"></a>资源</h3><p><a href="http://yongjiuzy.vip/" target="_blank" rel="noopener">永久资源网</a><br><a href="http://www.kuyunzy.tv/" target="_blank" rel="noopener">酷云资源</a></p><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a href="https://www.52pojie.cn/thread-811082-1-1.html" target="_blank" rel="noopener">10分钟搭建属于自己的视频网站 海洋cms视频网站搭建超详细教程 零基础的看过来</a><br><a href="https://zhuanlan.zhihu.com/p/55420193" target="_blank" rel="noopener">如何搭建一个自己的视频网站？对接公众号自动回复！</a><br><a href="https://www.hanming.com/freehost/" target="_blank" rel="noopener">悍铭福利空间</a><br><a href="https://www.moerats.com/archives/464/" target="_blank" rel="noopener">建立你的私人在线影库：Plex云盘搭建及使用教程</a><br><a href="https://www.imtrq.com/archives/1374" target="_blank" rel="noopener">用VPS搭建离线下载播放器【aria2+h5ai】</a><br><a href="https://www.tangtr.cn/pgcaiji.html" target="_blank" rel="noopener">苹果CMS快速搭建在线视频网站的采集设置</a><br><a href="https://cloud.tencent.com/developer/article/1147522" target="_blank" rel="noopener">如何搭建一个视频采集网站</a><br><a href="https://blog.csdn.net/qq_42249896/article/details/84881985" target="_blank" rel="noopener">宝塔面板搭建苹果CMS影视网站</a><br><a href="https://lusongsong.com/reed/10735.html?__SAKURA=1aa045c717ce709ab119cbd37b2b695a81568596418_10176353" target="_blank" rel="noopener">新手小白如何用8小时搭建一个影视网站！</a><br><a href="https://www.bilibili.com/video/av44613244/" target="_blank" rel="noopener">苹果cmsv10安装详情，搭建自己的视频网站</a><br><a href="https://www.zhihu.com/question/59169777" target="_blank" rel="noopener">搭建在线视频网站，怎么弄</a></p><!-- rebuild by neat -->]]></content:encoded>
      
      <comments>https://joelying.github.io//blog/%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BA%E5%85%8D%E8%B4%B9%E8%A7%86%E9%A2%91%E7%BD%91%E7%AB%99%E8%AE%B0%E5%BD%95.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Hexo博客添加音乐播放器</title>
      <link>https://joelying.github.io//blog/Hexo%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8.html</link>
      <guid>https://joelying.github.io//blog/Hexo%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8.html</guid>
      <pubDate>Wed, 04 Sep 2019 03:09:44 GMT</pubDate>
      <description>
      
        对我来说，记忆也成为了相见的一种方式
      
      </description>
      
      <content:encoded><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><!-- build time:Tue Oct 15 2019 14:38:18 GMT+0800 (GMT+08:00) --><img class="joel-img" src="http://image.joelyings.com/20190904-7.jpg"><a id="more"></a><h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>之前添加的就是网易云的播放外链，但是只有一首歌，后来就找了找能不能添加更多的歌曲，就发现了可以添加网易云歌单，还有使用APlayer</p><h3 id="网易云单曲外链"><a href="#网易云单曲外链" class="headerlink" title="网易云单曲外链"></a>网易云单曲外链</h3><p>首先进入网页版网易云，点击播放一首歌，进入<code>https://music.163.com/#/song?id=208902</code>的页面，可以在页面中看到如下图所示</p><p><img src="http://image.joelyings.com/20190904-1.png" alt></p><p>点击后，进入如下页面</p><p><img src="http://image.joelyings.com/20190904-2.png" alt></p><p>然后可以选择尺寸大小，及是否自动播放等，最后复制下方的HTML代码，然后在<code>themes\next\layout\_macro\sidebar.swig</code>中添加即可</p><figure class="highlight diff"><figcaption><span>themes\next\layout\_macro\sidebar.swig</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class="sidebar-inner"&gt;</span><br><span class="line">...</span><br><span class="line"><span class="addition">+   &lt;iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=332 height=86 src="//music.163.com/outchain/player?type=2&amp;id=22842399&amp;auto=1&amp;height=66"&gt;&lt;/iframe&gt;</span></span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br></pre></td></tr></table></figure><p>在侧栏导航栏中就会出现该歌曲，但要注意的是有的歌曲因版权限制是无法生成外链的，就算拼成了外链的连接也无法播放</p><h3 id="网易云歌单外链"><a href="#网易云歌单外链" class="headerlink" title="网易云歌单外链"></a>网易云歌单外链</h3><p>进入你的歌单页面，如<code>https://music.163.com/#/playlist?id=歌单ID</code></p><p><img src="http://image.joelyings.com/20190904-3.png" alt></p><p>点击生成外链播放器，注意如果歌单中包含因版权问题无法播放(即成阴影色的歌曲)，那么该歌单无法生成外链</p><p><img src="http://image.joelyings.com/20190904-4.png" alt></p><p>选择尺寸等选项后复制HTML代码，添加到上述位置即可</p><h3 id="APlayer播放器"><a href="#APlayer播放器" class="headerlink" title="APlayer播放器"></a>APlayer播放器</h3><p><a href="https://aplayer.js.org/#/zh-Hans/" target="_blank" rel="noopener">官方文档</a>，<a href="https://github.com/MoePlayer/APlayer" target="_blank" rel="noopener">Github地址</a></p><p>可以通过npm下载，再把下载好的dist文件夹(hexo项目\node_modules\aplayer\dist)复制到<code>\themes\next\source</code>中</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> aplayer <span class="comment">--save</span></span><br></pre></td></tr></table></figure><p>在<code>themes\next\layout\_layout.swig</code>的<code>&lt;body&gt;&lt;/body&gt;</code>标签中的任意位置添加下面代码</p><figure class="highlight html"><figcaption><span>themes\next\layout\_layout.swig</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- APlayer播放器 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"/dist/APlayer.min.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"aplayer"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/dist/APlayer.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/dist/aplayermusic.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- APlayer播放器 --&gt;</span></span><br></pre></td></tr></table></figure><p>其中id为<code>aplayer</code>就是你要在浏览器放置的地方，样式z-index则是为了让播放器显示载最上面一层</p><p>然后再<code>themes\next\source\dist\</code>建立一个js文件，名字任意，我建的是<code>aplayermusic.js</code>，在其中写下如下代码<br>注意<code>container</code>对应id为<code>aplayer</code>，别改了上面忘了下面</p><figure class="highlight javascript"><figcaption><span>themes\next\source\dist\aplayermusic.js</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ap = <span class="keyword">new</span> APlayer(&#123;</span><br><span class="line">    container: <span class="built_in">document</span>.getElementById(<span class="string">'aplayer'</span>),</span><br><span class="line">    <span class="comment">// mini: false,</span></span><br><span class="line">    fixed: <span class="literal">true</span>,<span class="comment">//吸底模式</span></span><br><span class="line">    autoplay: <span class="literal">false</span>,<span class="comment">//默认是否自动播放</span></span><br><span class="line">    theme: <span class="string">'#FADFA3'</span>,</span><br><span class="line">    loop: <span class="string">'all'</span>,</span><br><span class="line">    order: <span class="string">'random'</span>,</span><br><span class="line">    preload: <span class="string">'auto'</span>,</span><br><span class="line">    volume: <span class="number">0.7</span>,<span class="comment">//默认音量</span></span><br><span class="line">    mutex: <span class="literal">true</span>,<span class="comment">//是否不允许多个播放器同时播放</span></span><br><span class="line">    listFolded: <span class="literal">true</span>,<span class="comment">//是否默认收起播放列表</span></span><br><span class="line">    listMaxHeight: <span class="number">90</span>,<span class="comment">//播放列表的高度</span></span><br><span class="line">    <span class="comment">//lrcType: 3, //使用lrc文件提供歌词</span></span><br><span class="line"><span class="comment">//网易云默认外链链接：http://music.163.com/song/media/outer/url?id=ID数字.mp3</span></span><br><span class="line">    audio: [</span><br><span class="line">        &#123;</span><br><span class="line">            name: <span class="string">'SURPRISE-DRIVE'</span>,</span><br><span class="line">            artist: <span class="string">'松冈充'</span>,</span><br><span class="line">            url: <span class="string">'http://music.163.com/song/media/outer/url?id=29751409.mp3'</span>,</span><br><span class="line">            cover: <span class="string">'http://p1.music.126.net/Oo0kXusaoF9DGwjAJFeAtA==/6671836558494023.jpg'</span>,</span><br><span class="line">            lrc: <span class="string">'/./dist/music/lrc/29751409.lrc'</span>,</span><br><span class="line">            theme: <span class="string">'#46718b'</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>其中audio标签下，就是加进去的歌曲，由于把lrcType: 3注释了，所以lrc歌词文件不会生效</p><p>详细参数的配置可以参考<a href="https://aplayer.js.org/#/zh-Hans/" target="_blank" rel="noopener">官方文档</a></p><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">name:</span> <span class="string">'SURPRISE-DRIVE'</span>,</span><br><span class="line"><span class="string">artist:</span> <span class="string">'松冈充'</span>,</span><br><span class="line"><span class="string">url:</span> <span class="string">'http://music.163.com/song/media/outer/url?id=29751409.mp3'</span>,</span><br><span class="line"><span class="string">cover:</span> <span class="string">'http://p1.music.126.net/Oo0kXusaoF9DGwjAJFeAtA==/6671836558494023.jpg'</span>,</span><br><span class="line"><span class="string">lrc:</span> <span class="string">'/./dist/music/lrc/29751409.lrc'</span>,</span><br><span class="line"><span class="string">theme:</span> <span class="string">'#46718b'</span></span><br></pre></td></tr></table></figure><p id="div-border-left-blue">name</p><p>歌名</p><p id="div-border-left-blue">artist</p><p>作曲家，这两个云音乐上就有</p><p id="div-border-left-blue">url</p><p>网易云默认外链链接：<code>http://music.163.com/song/media/outer/url?id=ID数字.mp3</code></p><p id="div-border-left-blue">cover</p><p>封面图<code>http://p1.music.126.net/Oo0kXusaoF9DGwjAJFeAtA==/6671836558494023.jpg</code><br>在歌曲页面右键点击检查，或按F12调出开发者工具，点击下图中最左侧按钮</p><p><img src="http://image.joelyings.com/20190904-5.png" alt></p><p>然后点击封面图片</p><p><img src="http://image.joelyings.com/20190904-6.png" alt></p><p>图中http开头的链接即是<code>cover</code>链接</p><p id="div-border-left-blue">lrc</p><p>歌词文件 <code>/./dist/music/lrc/29751409.lrc</code></p><p><a href="https://github.com/jitwxs/163MusicLyrics/releases" target="_blank" rel="noopener">下载</a>green-version.zip文件，在本地解压后运行，输入网易云歌曲ID即可下载歌词，详细操作参考<a href="https://github.com/jitwxs/163MusicLyrics/blob/master/README.md" target="_blank" rel="noopener">项目README文件</a></p><p id="div-border-left-blue">theme</p><p>是更高优先级的主题色</p><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a href="https://blog.csdn.net/Mculover666/article/details/90700059" target="_blank" rel="noopener">Hexo+Next添加网易云音乐</a><br><a href="https://qianlei6148.github.io/2018/10/13/%E4%B8%BA%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0aplayer%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8/" target="_blank" rel="noopener">为hexo博客yilia模版添加aplayer音乐播放器</a><br><a href="https://blog.yleao.com/2018/0902/hexo%E4%B8%8A%E7%9A%84aplayer%E5%BA%94%E7%94%A8.html" target="_blank" rel="noopener">hexo上的aplayer应用</a><br><a href="http://lyxf.live/posts/51370" target="_blank" rel="noopener">hexo-Next主题美化&lt;二&gt;</a><br><a href="https://github.com/GameBelial/ZonyLrcToolsX/releases" target="_blank" rel="noopener">ZonyLrcToolsX</a><br><a href="https://music.liuzhijin.cn/" target="_blank" rel="noopener">音乐直链搜索</a><br><a href="http://www.ytmp3.cn/" target="_blank" rel="noopener">杨天音乐外链</a><br><a href="https://gist.github.com/3rogue/5b03fbe499b2bfff91d1ef15a2583d55" target="_blank" rel="noopener">https://gist.github.com/3rogue/5b03fbe499b2bfff91d1ef15a2583d55</a><br><a href="https://github.com/jitwxs/163MusicLyrics" target="_blank" rel="noopener">163MusicLyrics</a><br><a href="https://greasyfork.org/zh-CN/scripts/33046-%E7%BD%91%E6%98%93%E4%BA%91%E9%9F%B3%E4%B9%90%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD" target="_blank" rel="noopener">网易云音乐直接下载</a><br><a href="https://aplayer.js.org/#/zh-Hans/" target="_blank" rel="noopener">APlayer文档</a></p><!-- rebuild by neat -->]]></content:encoded>
      
      <comments>https://joelying.github.io//blog/Hexo%E5%8D%9A%E5%AE%A2%E6%B7%BB%E5%8A%A0%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>简单明了的hexo博客备份操作</title>
      <link>https://joelying.github.io//blog/%E7%AE%80%E5%8D%95%E6%98%8E%E4%BA%86%E7%9A%84hexo%E5%8D%9A%E5%AE%A2%E5%A4%87%E4%BB%BD%E6%93%8D%E4%BD%9C.html</link>
      <guid>https://joelying.github.io//blog/%E7%AE%80%E5%8D%95%E6%98%8E%E4%BA%86%E7%9A%84hexo%E5%8D%9A%E5%AE%A2%E5%A4%87%E4%BB%BD%E6%93%8D%E4%BD%9C.html</guid>
      <pubDate>Thu, 29 Aug 2019 00:58:07 GMT</pubDate>
      <description>
      
        “Good morning, and in case I don&#39;t see you, Good afternoon, Good evening, And good night.”
      
      </description>
      
      <content:encoded><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><!-- build time:Tue Oct 15 2019 14:38:18 GMT+0800 (GMT+08:00) --><img class="joel-img" src="http://image.joelyings.com/20190829-3.jpg"><a id="more"></a><p id="div-border-left-red">这算是我见过相当简单并实际操作后成功备份的操作指南</p><h3 id="前提"><a href="#前提" class="headerlink" title="前提"></a>前提</h3><p>博客搭建完成，并且已发布过文章</p><p>远程项目地址为<code>https://github.com/joelYing/joelYing.github.io.git</code>(这是我的仓库)，默认分支为<code>master</code></p><p>原博客所在项目文件夹为<code>hexo</code>，命令均在<code>git bash</code>下执行</p><h3 id="备份"><a href="#备份" class="headerlink" title="备份"></a>备份</h3><p>在项目新建分支<code>source</code>分支（名称随意），在下图中新建即可</p><p><img src="http://image.joelyings.com/20190829-1.png" alt></p><p>设置<code>source</code>为默认分支后，点击<code>update</code>更新默认分支</p><p><img src="http://image.joelyings.com/20190829-2.png" alt></p><p>在任意处新建文件夹<code>hexo-source</code>，通过<code>gitbash</code>在文件夹下执行<code>git clone https://github.com/joelYing/joelYing.github.io.git</code></p><p>进入<code>hexo-source</code>下的项目目录<code>joelYing.github.io</code>，这时<code>gitbash</code>分支名应显示<code>source</code></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="keyword">rm</span> * -<span class="built_in">r</span></span><br></pre></td></tr></table></figure><p>清空文件夹</p><p>打开原项目<code>hexo</code>文件夹下的<code>.gitignore</code>，复制原项目<code>hexo</code>文件夹下除<code>.gitignore</code>中显示以外的所有文件到<code>joelYing.github.io</code></p><p><code>.gitignore</code>文件中记录的是git提交时需要忽略的文件</p><p>删除现在<code>joelYing.github.io</code>下<code>themes/主题文件夹</code>下的<code>.git</code>文件，否则主题文件无法push，如果下载的是主题zip解压后的文件夹可忽略此步</p><figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">git</span> <span class="keyword">add </span>.</span><br><span class="line"><span class="symbol">git</span> commit -m <span class="string">"xxx"</span></span><br><span class="line"><span class="symbol">git</span> <span class="keyword">push </span>origin source</span><br></pre></td></tr></table></figure><p>三步提交所有代码到远程仓库即可</p><p>博客从一开始就在本地生成，选择复制是为了方便使用远程地址</p><h3 id="另外"><a href="#另外" class="headerlink" title="另外"></a>另外</h3><p>Sublime 同时打开多个文件夹（项目）</p><p>打开第二个<code>project--&gt;add folder to project</code></p><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a href="https://www.jianshu.com/p/f4214a85eb0e" target="_blank" rel="noopener">hexo博客备份</a></p><!-- rebuild by neat -->]]></content:encoded>
      
      <comments>https://joelying.github.io//blog/%E7%AE%80%E5%8D%95%E6%98%8E%E4%BA%86%E7%9A%84hexo%E5%8D%9A%E5%AE%A2%E5%A4%87%E4%BB%BD%E6%93%8D%E4%BD%9C.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Fullpage+NexT打造自己钟意的经典语录集</title>
      <link>https://joelying.github.io//blog/Fullpage-NexT%E6%89%93%E9%80%A0%E8%87%AA%E5%B7%B1%E9%92%9F%E6%84%8F%E7%9A%84%E7%BB%8F%E5%85%B8%E8%AF%AD%E5%BD%95%E9%9B%86.html</link>
      <guid>https://joelying.github.io//blog/Fullpage-NexT%E6%89%93%E9%80%A0%E8%87%AA%E5%B7%B1%E9%92%9F%E6%84%8F%E7%9A%84%E7%BB%8F%E5%85%B8%E8%AF%AD%E5%BD%95%E9%9B%86.html</guid>
      <pubDate>Mon, 26 Aug 2019 11:21:43 GMT</pubDate>
      <description>
      
        生活就像一盒巧克力，你永远不知道下一块是什么味道
      
      </description>
      
      <content:encoded><![CDATA[<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><!-- build time:Tue Oct 15 2019 14:38:18 GMT+0800 (GMT+08:00) --><img class="joel-img" src="http://image.joelyings.com/20190826-2.jpg"><a id="more"></a><h3 id="想法"><a href="#想法" class="headerlink" title="想法"></a>想法</h3><p>不知道你有没有那种第一眼见到就喜欢的不得了的句子，经典名言，风流诗句，或者是小说中那些霸气无比的对白……</p><p>我是喜欢得有很多，而且老是想着把这些话记录在一个本子上，想着以后偶尔翻翻还会觉得，嗯，挺有滋味</p><p>由于刚开始制做自己的博客，期间参考了很多位大佬的作品，发现有<a href="https://leaferx.online/sentence/" target="_blank" rel="noopener">一位大哥做的其中一个页面</a>令我感觉棒极了，就是那种每往下滑一页，就是一句很有意思的语句，加上滑动时那种丝滑般的感受，我就也想做一个这样的页面出来，奈何对于前端不是非常了解，好在做过些许爬虫，于是看了看大哥的页面好像用到了一个叫做<code>fullpage</code>的东西</p><p>于是就开始了自己的倒腾之路……</p><p>附上成果地址<code>https://joelying.github.io/a-word/</code></p><h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><h4 id="第一步"><a href="#第一步" class="headerlink" title="第一步"></a>第一步</h4><p>想在NexT博客中也展示这样一个自己独立的页面，就需要新建一个页面啦</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new<span class="built_in"> page </span>a-word</span><br></pre></td></tr></table></figure><p>然后在菜单中添加链接，编辑主题配置文件，添加<code>a-word</code>到<code>menu</code>中，图标参考了<code>Font Awesome</code>中的样式，如下:</p><figure class="highlight diff"><figcaption><span>hexo\themes\next\_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: / || home</span><br><span class="line">  about: /about/ || user</span><br><span class="line">  tags: /tags/ || tags</span><br><span class="line">  categories: /categories/ || th</span><br><span class="line">  archives: /archives/ || archive</span><br><span class="line">  schedule: /schedule/ || calendar</span><br><span class="line"><span class="addition">+ a-word: /a-word/ || align-center</span></span><br></pre></td></tr></table></figure><p>然后找到<code>hexo\themes\next\languages\zh-CN.yml</code>，在<code>menu</code>下添加页面对应的中文名称</p><figure class="highlight diff"><figcaption><span>hexo\themes\next\languages\zh-CN.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: 首页</span><br><span class="line">  archives: 归档</span><br><span class="line">  categories: 分类</span><br><span class="line">  tags: 标签</span><br><span class="line">  about: 关于</span><br><span class="line">  search: 搜索</span><br><span class="line">  schedule: 日程表</span><br><span class="line">  sitemap: 站点地图</span><br><span class="line">  commonweal: 公益 404</span><br><span class="line"><span class="addition">+ a-word: 一言</span></span><br></pre></td></tr></table></figure><p>这样一来一个新的页面就出现在首页的菜单栏中了，但是点进去却发现里面的样式已经有了，是被NexT渲染过的，有了固定的模样，那么怎么自己来定义一个页面呢？</p><p>于是参考<a href="https://segmentfault.com/q/1010000017576920" target="_blank" rel="noopener">这篇</a>文章所说，在配置文件中忽略渲染这个页面即可</p><p>在站点配置文件_config.yml中的skip_render项</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">skip_render:</span> diyPage<span class="comment">/**</span></span><br></pre></td></tr></table></figure><p>这样的话是忽略diyPage文件夹下的所有文件</p><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">skip_render:</span> page/diyfile.html</span><br></pre></td></tr></table></figure><p>这样的话应该是只忽略diyfile.html这一个文件,于是将<code>hexo\source\a-word\index.md</code>新建页面的md文件添加在后面，如下：</p><figure class="highlight plain"><figcaption><span>hexo\_config.yml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">skip_render: /source/a-word/index.md</span><br></pre></td></tr></table></figure><p>但是最终我的页面还是新建完成之后的样子，后来再看到<a href="https://blog.csdn.net/refined_x/article/details/78271382?utm_source=blogxgwz8" target="_blank" rel="noopener">这篇</a>文章中的方法二，在md文件的<code>font-matter</code>处添加了</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">layout:</span> <span class="literal">false</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><p>这下重新部署之后发现页面就是一个干净空白的页面了！</p><h4 id="第二步"><a href="#第二步" class="headerlink" title="第二步"></a>第二步</h4><p>有了自定义的页面，接下来我就去找这个<code>fullpage</code>到底是什么样的，Google一番后，在<a href="http://www.dowebok.com/demo/2014/77/index2.html" target="_blank" rel="noopener">这里</a>看到了我想要的效果演示，也找到了这个<code>fullpage</code>的<a href="https://github.com/alvarotrigo/fullPage.js" target="_blank" rel="noopener">GitHub地址</a></p><p>这是它的<a href="https://github.com/alvarotrigo/fullPage.js/tree/master/lang/chinese#fullpagejs" target="_blank" rel="noopener">中文</a><code>Readme</code>，依据上面所说实现一个<code>fullpage</code>页面应该是极其<code>easy</code>的……</p><p>但是我不一样，我只是个小白……他说的可以用npm安装，我都不知道该放在哪个文件夹下比较好，对不对，代码应该具体些在哪里才有用……</p><p>于是乎我开一启了一轮又一轮的尝试……</p><p>最终啊，在网上找倒一个<a href="https://www.jianshu.com/p/3d42b13f0a4e" target="_blank" rel="noopener">小实例</a>，参考如下：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width,initial-scale=1,user-scalable=no"</span>/&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">title</span>&gt;</span>Fullpage简单例子<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/2.9.4/jquery.fullpage.css"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line">    body&#123;</span><br><span class="line"><span class="css">        <span class="selector-tag">color</span>:<span class="selector-id">#fff</span>;<span class="comment">/*文字为白色*/</span></span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.section1</span>&#123;</span></span><br><span class="line">       background-color: green;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.section2</span>&#123;</span></span><br><span class="line">       background-color: orange;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.section3</span>&#123;</span></span><br><span class="line">       background-color: gray;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.section4</span>&#123;</span></span><br><span class="line">       background-color: red;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.slide</span>&#123;</span></span><br><span class="line">      text-align: center;</span><br><span class="line">      font-size: 20px;</span><br><span class="line">    &#125;</span><br><span class="line"> <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">//开始制作</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"fullpage"</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section section1"</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是第一屏<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section section2"</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span>&gt;</span>slide1<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span>&gt;</span>slide2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span>&gt;</span>slide3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span>&gt;</span>slide4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span>&gt;</span>slide5<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span>&gt;</span>slide6<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section section3"</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是第三屏<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section section4"</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是第四屏<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.0/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/2.9.4/jquery.fullpage.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/2.9.4/jquery.fullpage.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--激活fullpage效果--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">    $(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      $(<span class="string">'#fullpage'</span>).fullpage();</span></span><br><span class="line">    &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>于是终于能够摸着活生生的<code>fullpage</code>页面了！！！，后来在原来的基础上删删改改，一个初步的页面就做好了，实现<code>fullpage</code>相关的<code>js</code>，<code>css</code>文件我都是通过<code>cdn</code>加载的，可以在<a href="https://cdnjs.com/" target="_blank" rel="noopener">这里</a>找</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-CN"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>XXX<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/3.0.7/fullpage.css"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/3.0.7/fullpage.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"fullpage"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section active"</span>&gt;</span></span><br><span class="line">        人海似海却无岸</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">哈哈哈</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span>&gt;</span></span><br><span class="line">一</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span>&gt;</span></span><br><span class="line">二</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span>&gt;</span></span><br><span class="line">三</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">《雪中悍刀行》</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--激活fullpage效果--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">  $(<span class="string">'#fullpage'</span>).fullpage();</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="第三步"><a href="#第三步" class="headerlink" title="第三步"></a>第三步</h4><p>实现了一个初步的页面后，后面的工序就明显了，我想把文字展示在页面居中位置，就要通过<code>CSS</code>控制文本位置；还有就是用到不同的字体了，一句话的字体与这句话出自哪里的字体要不同</p><p>在找了找大哥的页面源码的时候，发现大哥用的是“有字库”的在线云字体，一开始用的时候，哇，怎么有这么方便字体引用，只需要加几段代码到<code>&lt;head&gt;</code>中间就行了呢！</p><p>结果我用完，第二天一条短信发了过来：</p><blockquote><p>尊敬的****用户您好，您的有字库套餐于现在时间xxxx年xx月xx日剩余库币数为0，请您尽快登录有字库官方网站充值！</p></blockquote><p>我心想，这不会吧，就访问页面这么几次就用不了了吗？结果打开网页一看，得，字体用不了了，唉</p><p>气得我emmmm…试过用<code>CSS</code>添加外部字体，但是老是没生效，最后想了想，看到了<a href="https://imweb.io/topic/5a016f791f0e50753869bfa3" target="_blank" rel="noopener">这篇文章</a>后找上了GoogleFont，翻墙后，用仅有的几个中文字体……</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Google font --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"https://fonts.googleapis.com/css?family=Noto+Serif+SC&amp;display=swap"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"https://fonts.googleapis.com/css?family=ZCOOL+XiaoWei&amp;display=swap"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"https://fonts.googleapis.com/css?family=Zhi+Mang+Xing&amp;display=swap"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>要使用对应的字体只要再添加对应的<code>font-family</code>于想要标签的<code>CSS</code>样式中即可</p><h4 id="第四步"><a href="#第四步" class="headerlink" title="第四步"></a>第四步</h4><p>为了这个页面的第一个<code>section</code>看起来不那么枯燥，于是从阿里巴巴矢量库找到了一个矢量图标，给它加了一个不断旋转的效果</p><p>最终代码在这：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: XXX</span><br><span class="line">date: 2019-08-24 16:06:15</span><br><span class="line">layout: false</span><br><span class="line">---</span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh-CN"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>你的标题<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/3.0.7/fullpage.css"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"https://cdn.staticfile.org/font-awesome/4.7.0/css/font-awesome.css"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Google font --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"https://fonts.googleapis.com/css?family=Noto+Serif+SC&amp;display=swap"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"https://fonts.googleapis.com/css?family=ZCOOL+XiaoWei&amp;display=swap"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"https://fonts.googleapis.com/css?family=Zhi+Mang+Xing&amp;display=swap"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/3.0.7/fullpage.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span></span><br><span class="line"><span class="css"><span class="selector-class">.text</span> &#123;</span></span><br><span class="line">text-align: left;</span><br><span class="line">display: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.aword</span> &#123;</span></span><br><span class="line">font-family: 'Noto Serif SC', serif;</span><br><span class="line">line-height: 2;</span><br><span class="line">text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.aword-active</span> &#123;</span></span><br><span class="line">font-family: 'Zhi Mang Xing', cursive;</span><br><span class="line">line-height: 2;</span><br><span class="line">text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.aword-by</span>,<span class="selector-class">.aword-active-by</span> &#123;</span></span><br><span class="line">font-family: 'Noto Serif SC', serif;</span><br><span class="line">margin-left: 1000px;</span><br><span class="line">line-height: 3;</span><br><span class="line"><span class="css"><span class="selector-tag">color</span>: <span class="selector-id">#555</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.aword-p1</span> &#123;</span></span><br><span class="line">    text-align: center;</span><br><span class="line">  width: 500px;</span><br><span class="line">  margin: 0 auto;</span><br><span class="line">  margin-top: 250;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 控制图片旋转 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> rotateVal = <span class="number">0</span> <span class="comment">// 旋转角度</span></span></span><br><span class="line"><span class="actionscript"><span class="keyword">var</span> InterVal <span class="comment">// 定时器</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript"><span class="comment">// 网页加载完成后即运行rotate函数</span></span></span><br><span class="line">rotate()</span><br><span class="line"><span class="actionscript"><span class="comment">// 鼠标悬浮在图片上时，停止旋转，即清除定时器</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.getElementById(<span class="string">'img'</span>).onmousemove = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line">clearInterval(InterVal)</span><br><span class="line">&#125;</span><br><span class="line"><span class="actionscript"><span class="comment">// 鼠标离开图片时，继续旋转，即继续运行定时器</span></span></span><br><span class="line"><span class="javascript"><span class="built_in">document</span>.getElementById(<span class="string">'img'</span>).onmouseleave = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line">rotate()</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="actionscript"><span class="comment">// 设置定时器</span></span></span><br><span class="line"><span class="actionscript"><span class="function"><span class="keyword">function</span> <span class="title">rotate</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">InterVal = setInterval(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> img = <span class="built_in">document</span>.getElementById(<span class="string">'img'</span>)</span></span><br><span class="line">rotateVal += 1</span><br><span class="line"><span class="actionscript"><span class="comment">// 设置旋转属性(顺时针)</span></span></span><br><span class="line"><span class="actionscript">img.style.transform = <span class="string">'rotate('</span> + rotateVal + <span class="string">'deg)'</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">// 设置旋转属性(逆时针)</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">//img.style.transform = 'rotate(-' + rotateVal + 'deg)'</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">// 设置旋转时的动画  匀速0.1s</span></span></span><br><span class="line"><span class="actionscript">img.style.transition = <span class="string">'linear'</span></span></span><br><span class="line"><span class="actionscript">&#125;, <span class="number">5</span>) <span class="comment">// 数值越小速度越快</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"fullpage"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section active"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"aword-active"</span> <span class="attr">style</span>=<span class="string">"font-size: 70px"</span>&gt;</span></span><br><span class="line">        人海似海却无岸</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"aword-active-by"</span> <span class="attr">style</span>=<span class="string">"font-size: 18px; text-align: center;"</span>&gt;</span></span><br><span class="line">        往下翻点击左右两边可以看到更多哦</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"aword-p1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">id</span>=<span class="string">"img"</span> <span class="attr">src</span>=<span class="string">"图片"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"aword"</span> <span class="attr">style</span>=<span class="string">"font-size: 35px"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line">        小二 上酒</span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"aword-by"</span> <span class="attr">style</span>=<span class="string">"font-size: 18px"</span>&gt;</span></span><br><span class="line">        ——《雪中悍刀行》</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"aword"</span> <span class="attr">style</span>=<span class="string">"font-size: 35px"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line">        五十年鸿业，说与山鬼听</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"aword-by"</span> <span class="attr">style</span>=<span class="string">"font-size: 18px"</span>&gt;</span></span><br><span class="line">        ——《雪中悍刀行》</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"aword"</span> <span class="attr">style</span>=<span class="string">"font-size: 35px"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line">        人生当苦无妨，良人当归即好</span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"aword-by"</span> <span class="attr">style</span>=<span class="string">"font-size: 18px"</span>&gt;</span></span><br><span class="line">        ——《雪中悍刀行》</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"aword"</span> <span class="attr">style</span>=<span class="string">"font-size: 30px"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line">        天地无用，不入我眼。日月无用，不可同在。昆仑无用，不来就我<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        恻隐无用，道貌岸然。清净无用，两袖空空。大江无用，东去不返<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        风雪无用，不能饱暖。青草无用，一岁一枯。因果无用，皆是定数<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        江湖无用，两两相忘……<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        参禅无用，成甚么佛？！</span><br><span class="line">        <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"aword-by"</span> <span class="attr">style</span>=<span class="string">"font-size: 18px"</span>&gt;</span></span><br><span class="line">        ——《雪中悍刀行》</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"aword"</span> <span class="attr">style</span>=<span class="string">"font-size: 35px"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">"text"</span>&gt;</span></span><br><span class="line">        我见过沧海的云，巫峡的雨<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">我见过一月的雪覆于白山，又渐变于葱茏<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">我在峨眉的林里云兴霞蔚，一径之后，雾水成露，沾于衣襟<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">我听过柔橹漂浮，声声入水，又归于沉寂<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">我看到春风，八里十里，衣袖带花<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">无论何时忆起，它们实在是人生可喜，但都不如我此刻遇到的你</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"aword-by"</span> <span class="attr">style</span>=<span class="string">"font-size: 18px"</span>&gt;</span></span><br><span class="line">        —— 无名</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--激活fullpage效果--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">$(<span class="built_in">document</span>).ready(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">  $(<span class="string">'#fullpage'</span>).fullpage();</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="javascript">$(<span class="built_in">document</span>).on(<span class="string">'click'</span>, <span class="string">'.aword-p1'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></span><br><span class="line">  fullpage_api.moveSectionDown();</span><br><span class="line">&#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p>看完之后有没有发现我其实是在吐槽有字库，对我就是在吐槽有字库……</p><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p><a href="https://leaferx.online/sentence/" target="_blank" rel="noopener">Sentence</a><br><a href="https://segmentfault.com/q/1010000017576920" target="_blank" rel="noopener">Hexo如何自定义页面模板？</a><br><a href="https://blog.csdn.net/refined_x/article/details/78271382?utm_source=blogxgwz8" target="_blank" rel="noopener">Hexo自定义页面的方法</a><br><a href="http://theme-next.iissnan.com/theme-settings.html" target="_blank" rel="noopener">主题配置</a><br><a href="https://www.jianshu.com/p/3d42b13f0a4e" target="_blank" rel="noopener">FullPage.js自学笔记（一）</a><br><a href="https://cdnjs.com/libraries/fullPage.js" target="_blank" rel="noopener">fullPage.js</a><br><a href="https://blog.csdn.net/cplvfx/article/details/80649574" target="_blank" rel="noopener">fullpage.js结合animate.css实现滚屏动画，详细讲解，附下载地址</a><br><a href="https://imweb.io/topic/5a016f791f0e50753869bfa3" target="_blank" rel="noopener">自定义字体</a><br><a href="https://blog.csdn.net/appleLg/article/details/75433606" target="_blank" rel="noopener">html-加载css样式的4种方法</a><br><a href="http://www.dowebok.com/77.html" target="_blank" rel="noopener">jQuery全屏滚动插件fullPage.js</a><br><a href="https://github.com/alvarotrigo/fullPage.js/" target="_blank" rel="noopener">Github-alvarotrigo/fullPage.js</a><br><a href="http://www.dowebok.com/demo/2014/77/" target="_blank" rel="noopener">jQuery全屏滚动插件fullPage.js演示</a><br><a href="https://c.runoob.com/front-end/61" target="_blank" rel="noopener">HTML/CSS/JS 在线工具</a><br><a href="https://www.jianshu.com/p/2bc4cfc0adb3" target="_blank" rel="noopener">过渡动画（transition）</a><br><a href="https://blog.csdn.net/u011295864/article/details/84773123" target="_blank" rel="noopener">css + js实现图片不停旋转 鼠标悬停停止旋转</a><br><a href="https://www.cnblogs.com/hw-0409/p/7878253.html" target="_blank" rel="noopener">css 单行文本居中显示，多行文本左对齐</a><br><a href="https://zhidao.baidu.com/question/537179073.html" target="_blank" rel="noopener">css html 如何将图片img标签 水平居中 垂直居中 和水平垂直居中</a><br><a href="https://www.webfont.com/onlinefont/index" target="_blank" rel="noopener">有字库-在线字体</a></p><!-- rebuild by neat -->]]></content:encoded>
      
      <comments>https://joelying.github.io//blog/Fullpage-NexT%E6%89%93%E9%80%A0%E8%87%AA%E5%B7%B1%E9%92%9F%E6%84%8F%E7%9A%84%E7%BB%8F%E5%85%B8%E8%AF%AD%E5%BD%95%E9%9B%86.html#disqus_thread</comments>
    </item>
    
  </channel>
</rss>
